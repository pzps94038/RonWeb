"use strict";(self.webpackChunkRonWeb=self.webpackChunkRonWeb||[]).push([[916],{6168:(b,f,o)=>{o.r(f),o.d(f,{LoginComponent:()=>M});var d=o(6736),n=o(9523),h=o(4755),e=o(6355),r=o(9401),v=o(2883),a=o(5512),C=o(3144),O=o(2340);let E=(()=>{class u{constructor(){this.http=(0,n.f3M)(C.eN)}login(i){return this.http.post(`${O.N.baseUrl}/login`,i)}}return u.\u0275fac=function(i){return new(i||u)},u.\u0275prov=n.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})();var I=o(3500),l=o(262),c=o(8746),s=o(2993),t=o(5249),g=o(5796);function m(u,T){if(1&u){const i=n.EpF();n.TgZ(0,"div",12)(1,"div",13)(2,"span",14),n._uU(3),n.qZA()(),n.TgZ(4,"ng-icon",15),n.NdJ("click",function(){n.CHM(i);const _=n.oxw();return n.KtG(_.errMsg.set(""))}),n.qZA()()}if(2&u){const i=n.oxw();n.xp6(3),n.Oqu(i.errMsg())}}let M=(()=>{class u{constructor(){this.loginSrv=(0,n.f3M)(E),this.sharedSrv=(0,n.f3M)(I.F),this.router=(0,n.f3M)(g.F0),this.loading=(0,n.tdS)(!1),this.errMsg=(0,n.tdS)(void 0),this._destroyRef=(0,n.f3M)(n.ktI),this.form=new r.cw({account:new r.NI("",[r.kI.required]),password:new r.NI("",[r.kI.required])}),this.loginOptions={path:"assets/lottie/login.json"}}get account(){return this.form.get("account")}get password(){return this.form.get("password")}submit(){this.form.markAllAsTouched(),this.form.valid&&(this.loading.set(!0),this.loginSrv.login({account:this.account.value,password:this.password.value}).pipe((0,l.K)(i=>{throw this.errMsg.set("\u7cfb\u7d71\u767c\u751f\u932f\u8aa4"),i}),(0,c.x)(()=>this.loading.set(!1)),(0,d.sL)(this._destroyRef)).subscribe(i=>{const{returnMessage:p,data:_}=i;if(this.sharedSrv.ifSuccess(i,!1)){const{token:B,userId:L}=_;this.sharedSrv.setToken(B),this.sharedSrv.setUserId(L),this.sharedSrv.isLogin.set(!0),this.router.navigate(["setting"])}else this.errMsg.set(p)}))}}return u.\u0275fac=function(i){return new(i||u)},u.\u0275cmp=n.Xpm({type:u,selectors:[["app-login"]],standalone:!0,features:[n._Bn([(0,s.kp)({heroXMark:t.CZj})]),n.jDz],decls:17,vars:6,consts:[[1,"bg-banner","bg-cover","bg-fixed","h-screen","flex","justify-center","items-center"],[1,"bg-base-100","text-base-content","rounded-md","mt-20","md:mt-0","mx-5"],[1,"text-center","text-3xl","font-semibold","my-3"],[1,"w-60","mx-auto"],[3,"options"],[1,"flex","flex-wrap","items-center","w-full","sm:w-[500px]",3,"formGroup","ngSubmit"],[1,"w-full","px-3","my-2"],["class","alert alert-error shadow-lg border-2 bg-rose-800/[0.1] border-rose-900 relative py-5",4,"ngIf"],["placeholder","\u8acb\u8f38\u5165\u5e33\u865f","formControlName","account",1,"w-full"],["type","password","placeholder","\u8acb\u8f38\u5165\u5bc6\u78bc","formControlName","password",1,"w-full"],[1,"w-full","flex","justify-center","items-center"],["type","submit",1,"btn","btn-primary","my-3","px-8",3,"disabled"],[1,"alert","alert-error","shadow-lg","border-2","bg-rose-800/[0.1]","border-rose-900","relative","py-5"],[1,"absolute","left-5","top-2"],[1,"text-base","font-semibold","text-rose-900"],["name","heroXMark",1,"cursor-pointer","absolute","right-5","top-1","md:top-3","text-rose-900",3,"click"]],template:function(i,p){1&i&&(n._UZ(0,"app-header"),n.TgZ(1,"div",0)(2,"div",1)(3,"h3",2),n._uU(4,"\u767b\u5165"),n.qZA(),n.TgZ(5,"div",3),n._UZ(6,"ng-lottie",4),n.qZA(),n.TgZ(7,"form",5),n.NdJ("ngSubmit",function(){return p.submit()}),n.TgZ(8,"div",6),n.YNc(9,m,5,1,"div",7),n.qZA(),n.TgZ(10,"div",6),n._UZ(11,"app-input",8),n.qZA(),n.TgZ(12,"div",6),n._UZ(13,"app-input",9),n.qZA(),n.TgZ(14,"div",10)(15,"button",11),n._uU(16," \u767b\u5165 "),n.qZA()()()()()),2&i&&(n.xp6(6),n.Q6J("options",p.loginOptions),n.xp6(1),n.Q6J("formGroup",p.form),n.xp6(2),n.Q6J("ngIf",p.errMsg()),n.xp6(6),n.ekj("loading",p.loading()),n.Q6J("disabled",p.loading()))},dependencies:[h.ez,h.O5,e.a,r.UX,r._Y,r.JJ,r.JL,r.sg,r.u,v.G,a.r,s.Fv]}),u})()},5376:(b,f,o)=>{o.d(f,{A:()=>e,x:()=>h});var d=o(9523),n=o(9401);const h=r=>({provide:n.JU,useExisting:(0,d.Gpc)(()=>r),multi:!0});let e=(()=>{class r{constructor(a,C){this.injector=a,this.cdr=C,this.labelClass="",this.class="",this.showErrorMsg=!0,this.val="",this.disabled=!1}ngOnInit(){this.ngControl=this.injector.get(n.a5)}ngAfterViewInit(){this.control=this.ngControl?.control,this.cdr.detectChanges()}writeValue(a){this.val=a}registerOnChange(a){this.onChange=a}registerOnTouched(a){this.onTouched=a}setDisabledState(a){this.disabled=a}change(){this.onChange&&this.onTouched&&(this.onChange(this.val),this.onTouched())}}return r.\u0275fac=function(a){return new(a||r)(d.Y36(d.zs3),d.Y36(d.sBO))},r.\u0275cmp=d.Xpm({type:r,selectors:[["app-basic-input"]],inputs:{labelName:"labelName",labelClass:"labelClass",class:"class",showErrorMsg:"showErrorMsg"},standalone:!0,features:[d.jDz],decls:0,vars:0,template:function(a,C){},encapsulation:2}),r})()},6355:(b,f,o)=>{o.d(f,{a:()=>I});var d=o(9401),n=o(4755),h=o(5376),e=o(9523);const r=function(l,c){return{"text-success":l,"text-error":c}};function v(l,c){if(1&l&&(e.TgZ(0,"label",3),e._uU(1),e.qZA()),2&l){const s=e.oxw();e.Tol(s.labelClass),e.Q6J("for",null==s.ngControl?null:s.ngControl.name)("ngClass",e.WLB(5,r,(null==s.control?null:s.control.touched)&&!(null!=s.control&&s.control.errors),(null==s.control?null:s.control.touched)&&(null==s.control?null:s.control.errors))),e.xp6(1),e.Oqu(s.labelName)}}function a(l,c){1&l&&(e.TgZ(0,"p",5)(1,"span",6),e._uU(2,"\u6b64\u6b04\u4f4d\u5fc5\u586b"),e.qZA()())}function C(l,c){1&l&&(e.TgZ(0,"p",5)(1,"span",6),e._uU(2,"\u8acb\u8f38\u5165\u6b63\u78ba\u683c\u5f0f\u7684\u96fb\u5b50\u4fe1\u7bb1"),e.qZA()())}function O(l,c){if(1&l&&(e.ynx(0),e.YNc(1,a,3,0,"p",4),e.YNc(2,C,3,0,"p",4),e.BQk()),2&l){const s=e.oxw();e.xp6(1),e.Q6J("ngIf",null==s.control||null==s.control.errors?null:s.control.errors.required),e.xp6(1),e.Q6J("ngIf",null==s.control||null==s.control.errors?null:s.control.errors.email)}}const E=function(l,c){return{"input-error":l,"input-success":c}};let I=(()=>{class l extends h.A{constructor(){super(...arguments),this.type="text",this.placeholder="",this.size="md",this.inputmode="text"}}return l.\u0275fac=function(){let c;return function(t){return(c||(c=e.n5z(l)))(t||l)}}(),l.\u0275cmp=e.Xpm({type:l,selectors:[["app-input"]],inputs:{type:"type",placeholder:"placeholder",size:"size",inputmode:"inputmode"},standalone:!0,features:[e._Bn([(0,h.x)(l)]),e.qOj,e.jDz],decls:3,vars:22,consts:[["class","block",3,"for","class","ngClass",4,"ngIf"],[1,"input","input-bordered","border-2",3,"type","id","ngModel","ngClass","disabled","inputMode","placeholder","ngModelChange"],[4,"ngIf"],[1,"block",3,"for","ngClass"],["class","mt-2 text-sm text-red-600 dark:text-red-500",4,"ngIf"],[1,"mt-2","text-sm","text-red-600","dark:text-red-500"],[1,"font-medium"]],template:function(s,t){1&s&&(e.YNc(0,v,2,8,"label",0),e.TgZ(1,"input",1),e.NdJ("ngModelChange",function(m){return t.val=m})("ngModelChange",function(){return t.change()}),e.qZA(),e.YNc(2,O,3,2,"ng-container",2)),2&s&&(e.Q6J("ngIf",t.labelName),e.xp6(1),e.Tol(t.class),e.ekj("input-xs","xs"===t.size)("input-sm","sm"===t.size)("input-md","md"===t.size)("input-lg","lg"===t.size),e.Q6J("type",t.type)("id",null==t.ngControl?null:t.ngControl.name)("ngModel",t.val)("ngClass",e.WLB(19,E,(null==t.control?null:t.control.touched)&&(null==t.control?null:t.control.errors),(null==t.control?null:t.control.touched)&&!(null!=t.control&&t.control.errors)))("disabled",t.disabled)("inputMode",t.inputmode)("placeholder",t.placeholder),e.xp6(1),e.Q6J("ngIf",(null==t.control?null:t.control.touched)&&(null==t.control?null:t.control.errors)&&t.showErrorMsg))},dependencies:[n.ez,n.mk,n.O5,d.u5,d.Fj,d.JJ,d.On],styles:["[_nghost-%COMP%]{width:100%}"]}),l})()},4968:(b,f,o)=>{o.d(f,{R:()=>E});var d=o(8421),n=o(9751),h=o(5577),e=o(1144),r=o(576),v=o(3268);const a=["addListener","removeListener"],C=["addEventListener","removeEventListener"],O=["on","off"];function E(t,g,m,M){if((0,r.m)(m)&&(M=m,m=void 0),M)return E(t,g,m).pipe((0,v.Z)(M));const[u,T]=function s(t){return(0,r.m)(t.addEventListener)&&(0,r.m)(t.removeEventListener)}(t)?C.map(i=>p=>t[i](g,p,m)):function l(t){return(0,r.m)(t.addListener)&&(0,r.m)(t.removeListener)}(t)?a.map(I(t,g)):function c(t){return(0,r.m)(t.on)&&(0,r.m)(t.off)}(t)?O.map(I(t,g)):[];if(!u&&(0,e.z)(t))return(0,h.z)(i=>E(i,g,m))((0,d.Xf)(t));if(!u)throw new TypeError("Invalid event target");return new n.y(i=>{const p=(..._)=>i.next(1<_.length?_:_[0]);return u(p),()=>T(p)})}function I(t,g){return m=>M=>t[m](g,M)}}}]);