"use strict";(self.webpackChunkRonWeb=self.webpackChunkRonWeb||[]).push([[6],{9661:(A,h,t)=>{t.r(h),t.d(h,{ArticleCategoryEditComponent:()=>D});var e=t(4438),p=t(177),y=t(9079),s=t(9417),M=t(4366),I=t(8141),o=t(5964),g=t(6354),n=t(5558),i=t(980),d=t(9478),c=t(19),f=t(7343),b=t(2953),_=t(1832);function E(a,m){if(1&a){const l=e.RV6();e.qex(0),e.j41(1,"form",2),e.bIt("ngSubmit",function(){e.eBV(l);const u=e.XpG();return e.Njj(u.submit())}),e.j41(2,"div",3),e.nrm(3,"app-input",4),e.k0s(),e.j41(4,"div",5)(5,"button",6),e.EFF(6," \u4fee\u6539\u5206\u985e "),e.k0s()()(),e.bVm()}if(2&a){const l=e.XpG();e.R7$(),e.Y8G("formGroup",l.form),e.R7$(4),e.AVh("loading",l.isLoading()),e.Y8G("disabled",l.isLoading())}}function C(a,m){1&a&&(e.j41(0,"div",7)(1,"div")(2,"div",8),e.nrm(3,"div",9),e.k0s()()())}let D=(()=>{var a;class m{constructor(){this.apiSrv=(0,e.WQX)(f.G),this.userSrv=(0,e.WQX)(b.D),this.swalSrv=(0,e.WQX)(d.X),this.articleCategorySrv=(0,e.WQX)(_.N),this.route=(0,e.WQX)(M.nX),this.router=(0,e.WQX)(M.Ix),this.isLoading=(0,e.vPA)(!1),this.editIsLoading=(0,e.vPA)(!1),this.isError=(0,e.vPA)(!1),this._destroyRef=(0,e.WQX)(e.abz),this.form=new s.gE({categoryId:new s.MJ(void 0,[s.k0.required]),categoryName:new s.MJ("",[s.k0.required])})}ngOnInit(){this.route.paramMap.pipe((0,I.M)(()=>this.isLoading.set(!0)),(0,o.p)(r=>!!r.get("id")),(0,g.T)(r=>r.get("id")),(0,o.p)(r=>!isNaN(parseInt(r))),(0,g.T)(r=>parseInt(r)),(0,n.n)(r=>this.articleCategorySrv.getArticleCategoryById(r)),(0,o.p)(r=>this.apiSrv.ifSuccess(r)),(0,g.T)(({data:r})=>r),(0,y.pQ)(this._destroyRef)).subscribe(r=>{const{categoryId:u,categoryName:v}=r;this.form.controls.categoryId.setValue(u),this.form.controls.categoryName.setValue(v),this.isLoading.set(!1)})}submit(){if(this.form.markAllAsTouched(),this.form.invalid)return;const r={categoryId:this.form.controls.categoryId.value,categoryName:this.form.controls.categoryName.value,userId:this.userSrv.getUserId()};this.editIsLoading.set(!0),this.articleCategorySrv.updateArticleCategory(r).pipe((0,o.p)(u=>this.apiSrv.ifSuccess(u,!0)),(0,n.n)(({returnMessage:u})=>this.swalSrv.alert({icon:d.J.Success,text:u})),(0,i.j)(()=>this.editIsLoading.set(!1)),(0,y.pQ)(this._destroyRef)).subscribe(()=>this.router.navigate(["/setting/article-category/detail"]))}}return(a=m).\u0275fac=function(r){return new(r||a)},a.\u0275cmp=e.VBU({type:a,selectors:[["app-article-category-edit"]],standalone:!0,features:[e.aNF],decls:3,vars:2,consts:[["loading",""],[4,"ngIf","ngIfElse"],[3,"ngSubmit","formGroup"],[1,"my-5"],["labelName","\u5206\u985e","labelClass","text-lg my-2 text-center md:text-left","placeholder","\u8acb\u8f38\u5165\u5206\u985e","formControlName","categoryName",1,"w-full"],[1,"flex","justify-end","items-center"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"bg-base-100","border","border-base-content/10","text-base-content","rounded-md","p-5","mb-5"],[1,"flex","items-center"],[1,"h-5","my-2","w-full","rounded-lg","bg-slate-300/10","relative","before:absolute","before:inset-0","before:-translate-x-full","before:animate-[shimmer_2s_infinite]","before:border-t","before:border-slate-300/10","before:bg-gradient-to-r","before:from-transparent","before:bg-slate-300/10","before:to-transparent","overflow-hidden"]],template:function(r,u){if(1&r&&e.DNE(0,E,7,4,"ng-container",1)(1,C,4,0,"ng-template",null,0,e.C5r),2&r){const v=e.sdS(2);e.Y8G("ngIf",!u.isLoading())("ngIfElse",v)}},dependencies:[p.MD,p.bT,c.S,s.X1,s.qT,s.BC,s.cb,s.j4,s.JD]}),m})()},3994:(A,h,t)=>{t.d(h,{N:()=>I});var e=t(4438),p=t(9819),y=t(7673),s=t(8141),M=t(9568);let I=(()=>{var o;class g{constructor(){this.transferState=(0,e.WQX)(e.pJN),this.deviceSrv=(0,e.WQX)(p.g)}transfer(i,d,c=!0){const f=(0,e.zw6)(i);if(this.transferState.hasKey(f)&&c){const b=this.transferState.get(f,void 0);return(0,y.of)(b)}return d().pipe((0,s.M)(_=>{this.deviceSrv.isServer&&this.transferState.set(f,_)}),(0,M.t)())}}return(o=g).\u0275fac=function(i){return new(i||o)},o.\u0275prov=e.jDH({token:o,factory:o.\u0275fac,providedIn:"root"}),g})()},9568:(A,h,t)=>{t.d(h,{t:()=>g});var e=t(2771),p=t(8750),y=t(1413),s=t(7707),M=t(9974);function o(n,i,...d){if(!0===i)return void n();if(!1===i)return;const c=new s.Ms({next:()=>{c.unsubscribe(),n()}});return(0,p.Tg)(i(...d)).subscribe(c)}function g(n,i,d){let c,f=!1;return n&&"object"==typeof n?({bufferSize:c=1/0,windowTime:i=1/0,refCount:f=!1,scheduler:d}=n):c=null!=n?n:1/0,function I(n={}){const{connector:i=(()=>new y.B),resetOnError:d=!0,resetOnComplete:c=!0,resetOnRefCountZero:f=!0}=n;return b=>{let _,E,C,D=0,a=!1,m=!1;const l=()=>{null==E||E.unsubscribe(),E=void 0},r=()=>{l(),_=C=void 0,a=m=!1},u=()=>{const v=_;r(),null==v||v.unsubscribe()};return(0,M.N)((v,T)=>{D++,!m&&!a&&l();const P=C=null!=C?C:i();T.add(()=>{D--,0===D&&!m&&!a&&(E=o(u,f))}),P.subscribe(T),!_&&D>0&&(_=new s.Ms({next:O=>P.next(O),error:O=>{m=!0,l(),E=o(r,d,O),P.error(O)},complete:()=>{a=!0,l(),E=o(r,c),P.complete()}}),(0,p.Tg)(v).subscribe(_))})(b)}}({connector:()=>new e.m(c,i,d),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:f})}}}]);