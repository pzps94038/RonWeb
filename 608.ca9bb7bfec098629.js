"use strict";(self.webpackChunkRonWeb=self.webpackChunkRonWeb||[]).push([[608],{7608:(O,n,t)=>{t.r(n),t.d(n,{CodeCreateComponent:()=>P});var e=t(4438),E=t(177),d=t(9079),u=t(4366),p=t(5964),C=t(5558),v=t(980),i=t(9478),h=t(4702),l=t(4453),f=t(7343),D=t(2539),o=t(9417),M=t(2953),B=t(19),I=t(1547);let P=(()=>{var a;class _{constructor(){this.route=(0,e.WQX)(u.nX),this.apiSrv=(0,e.WQX)(f.G),this.userSrv=(0,e.WQX)(M.D),this.swalSrv=(0,e.WQX)(i.X),this.adminCodeSrv=(0,e.WQX)(D._),this.adminCodeTypeSrv=(0,e.WQX)(I.K),this.router=(0,e.WQX)(u.Ix),this.isLoading=(0,e.vPA)(!1),this._destroyRef=(0,e.WQX)(e.abz),this.form=new o.gE({codeTypeId:new o.MJ({value:"",disabled:!0},[o.k0.required]),codeTypeName:new o.MJ({value:"",disabled:!0},[o.k0.required]),codeId:new o.MJ("",[o.k0.required]),codeName:new o.MJ("",[o.k0.required])})}ngOnInit(){this.route.paramMap.pipe((0,d.pQ)(this._destroyRef)).subscribe(r=>{var s;const c=r.get("code-type-id");this.form.controls.codeTypeId.setValue(c),this.form.controls.codeTypeName.setValue(null===(s=history)||void 0===s||null===(s=s.state)||void 0===s?void 0:s.codeTypeName)})}submit(){if(this.form.markAllAsTouched(),this.form.invalid)return;const r={codeTypeId:this.form.controls.codeTypeId.value,codeId:this.form.controls.codeId.value,codeName:this.form.controls.codeName.value,userId:this.userSrv.getUserId()};this.isLoading.set(!0),this.adminCodeSrv.createAdminCode(r).pipe((0,p.p)(s=>this.apiSrv.ifSuccess(s)),(0,C.n)(({returnMessage:s})=>this.swalSrv.alert({icon:i.J.Success,text:s})),(0,v.j)(()=>this.isLoading.set(!1)),(0,d.pQ)(this._destroyRef)).subscribe(()=>{this.router.navigate(["/setting/code-type/".concat(this.form.controls.codeTypeId.value)])})}}return(a=_).\u0275fac=function(r){return new(r||a)},a.\u0275cmp=e.VBU({type:a,selectors:[["app-code-create"]],standalone:!0,features:[e.Jv_([(0,h.EB)({heroPencilSquare:l.r6l,heroTrash:l.dmW})]),e.aNF],decls:12,vars:4,consts:[[3,"ngSubmit","formGroup"],[1,"my-5"],["labelName","\u4ee3\u78bc\u985e\u578bID","labelClass","text-lg my-2 text-center md:text-left","placeholder","\u8acb\u8f38\u5165\u4ee3\u78bc\u985e\u578bID","formControlName","codeTypeId",1,"w-full"],["labelName","\u4ee3\u78bc\u985e\u578b\u540d\u7a31","labelClass","text-lg my-2 text-center md:text-left","placeholder","\u8acb\u8f38\u5165\u4ee3\u78bc\u985e\u578b\u540d\u7a31","formControlName","codeTypeName",1,"w-full"],["labelName","\u4ee3\u78bcID","labelClass","text-lg my-2 text-center md:text-left","placeholder","\u8acb\u8f38\u5165\u4ee3\u78bcID","formControlName","codeId",1,"w-full"],["labelName","\u4ee3\u78bc\u540d\u7a31","labelClass","text-lg my-2 text-center md:text-left","placeholder","\u8acb\u8f38\u5165\u4ee3\u78bc\u540d\u7a31","formControlName","codeName",1,"w-full"],[1,"flex","justify-end","items-center"],["type","submit",1,"btn","btn-primary",3,"disabled"]],template:function(r,s){1&r&&(e.j41(0,"form",0),e.bIt("ngSubmit",function(){return s.submit()}),e.j41(1,"div",1),e.nrm(2,"app-input",2),e.k0s(),e.j41(3,"div",1),e.nrm(4,"app-input",3),e.k0s(),e.j41(5,"div",1),e.nrm(6,"app-input",4),e.k0s(),e.j41(7,"div",1),e.nrm(8,"app-input",5),e.k0s(),e.j41(9,"div",6)(10,"button",7),e.EFF(11," \u65b0\u589e\u4ee3\u78bc "),e.k0s()()()),2&r&&(e.Y8G("formGroup",s.form),e.R7$(10),e.AVh("loading",s.isLoading()),e.Y8G("disabled",s.isLoading()))},dependencies:[E.MD,B.S,o.X1,o.qT,o.BC,o.cb,o.j4,o.JD]}),_})()}}]);