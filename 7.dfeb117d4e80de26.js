"use strict";(self.webpackChunkRonWeb=self.webpackChunkRonWeb||[]).push([[7],{6402:(O,d,n)=>{n.r(d),n.d(d,{HomeComponent:()=>I});var s=n(5855),t=n(9416),p=n(4755),i=n(9908),m=n(7915),h=n(8884),_=n(8746),g=n(1415),E=n(8028),v=n(4217),u=n(7929),f=n(2958);const M=function(r,c){return{categoryId:r,categoryName:c}};function C(r,c){if(1&r){const e=t.EpF();t.TgZ(0,"app-article-card",5),t.NdJ("category",function(o){t.CHM(e);const l=t.oxw(3);return t.KtG(l.navigateCategory(o))})("label",function(o){t.CHM(e);const l=t.oxw(3);return t.KtG(l.navigateLabel(o))})("showMore",function(){const l=t.CHM(e).$implicit,x=t.oxw(3);return t.KtG(x.showMore(l.articleId))}),t.qZA()}if(2&r){const e=c.$implicit;t.Q6J("title",e.articleTitle)("date",e.createDate)("category",t.WLB(5,M,e.categoryId,e.categoryName))("labels",e.labels)("previewContent",e.previewContent)}}function P(r,c){if(1&r&&(t.ynx(0),t.YNc(1,C,1,8,"app-article-card",4),t.BQk()),2&r){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.articles())}}function D(r,c){if(1&r&&(t.ynx(0),t.YNc(1,P,2,1,"ng-container",0),t.BQk()),2&r){const e=t.oxw(),a=t.MAs(2);t.xp6(1),t.Q6J("ngIf",!e.isLoading())("ngIfElse",a)}}function T(r,c){1&r&&t._UZ(0,"app-loading-card")(1,"app-loading-card")(2,"app-loading-card")}function y(r,c){if(1&r){const e=t.EpF();t.TgZ(0,"div",6)(1,"app-error",7),t.NdJ("refresh",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.getArticle(o.page()))}),t.qZA()()}}let I=(()=>{class r{constructor(){this.articleSrv=(0,t.f3M)(h.n),this.apiSrv=(0,t.f3M)(u.s),this.route=(0,t.f3M)(g.gz),this.router=(0,t.f3M)(g.F0),this.codeBlockSrv=(0,t.f3M)(f.n),this.total=(0,t.tdS)(0),this.articles=(0,t.tdS)([]),this.isLoading=(0,t.tdS)(!1),this.isError=(0,t.tdS)(!1),this.page=(0,t.tdS)(1),this._destroyRef=(0,t.f3M)(t.ktI)}ngOnInit(){this.route.queryParamMap.pipe((0,s.sL)(this._destroyRef)).subscribe(e=>{const a=e.get("page"),o=a?parseInt(a):1;this.page.set(isNaN(o)?1:o),this.getArticle(this.page())})}getArticle(e){this.isError.set(!1),this.isLoading.set(!0),this.articleSrv.getArticle(e).pipe((0,_.x)(()=>this.isLoading.set(!1)),(0,s.sL)(this._destroyRef)).subscribe({next:a=>{if(this.apiSrv.ifSuccess(a,!1)){const{data:{total:o,articles:l}}=a;this.total.set(o),this.articles.set(l),this.codeBlockSrv.highlightAllBlock()}else this.isError.set(!0)},error:a=>{this.isError.set(!0)}})}showMore(e){this.router.navigateByUrl(`/blog/article/${e}`)}navigateCategory({categoryId:e}){this.router.navigateByUrl(`/blog/category/${e}`)}navigateLabel({labelId:e}){this.router.navigateByUrl(`/blog/label/${e}`)}paginationChange(e){this.router.navigate(["/blog/home"],{queryParams:{page:e}})}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-home"]],standalone:!0,features:[t.jDz],decls:6,vars:4,consts:[[4,"ngIf","ngIfElse"],["loading",""],["error",""],[3,"total","currentPage","change"],[3,"title","date","category","labels","previewContent","label","showMore",4,"ngFor","ngForOf"],[3,"title","date","category","labels","previewContent","label","showMore"],[1,"bg-base-100","border","border-base-content/10","text-base-content","rounded-md","mx-0","md:mx-5","p-5","mb-5"],[3,"refresh"]],template:function(e,a){if(1&e&&(t.YNc(0,D,2,2,"ng-container",0),t.YNc(1,T,3,0,"ng-template",null,1,t.W1O),t.YNc(3,y,2,0,"ng-template",null,2,t.W1O),t.TgZ(5,"app-pagination",3),t.NdJ("change",function(l){return a.paginationChange(l)}),t.qZA()),2&e){const o=t.MAs(4);t.Q6J("ngIf",!a.isError())("ngIfElse",o),t.xp6(5),t.Q6J("total",a.total())("currentPage",a.page())}},dependencies:[p.ez,p.sg,p.O5,i.y,m.Q,E.q,v.o]}),r})()},681:(O,d,n)=>{n.d(d,{Z:()=>h});var s=n(9416),t=n(928),p=n(9646),i=n(8505),m=n(4782);let h=(()=>{class _{constructor(){this.transferState=(0,s.f3M)(s.kie),this.deviceSrv=(0,s.f3M)(t.U)}transfer(E,v,u=!0){const f=(0,s.Cb6)(E);if(this.transferState.hasKey(f)&&u){const M=this.transferState.get(f,void 0);return(0,p.of)(M)}return v().pipe((0,i.b)(C=>{this.deviceSrv.isServer&&this.transferState.set(f,C)}),(0,m.d)())}}return _.\u0275fac=function(E){return new(E||_)},_.\u0275prov=s.Yz7({token:_,factory:_.\u0275fac,providedIn:"root"}),_})()},4782:(O,d,n)=>{n.d(d,{d:()=>p});var s=n(4707),t=n(3099);function p(i,m,h){let _,g=!1;return i&&"object"==typeof i?({bufferSize:_=1/0,windowTime:m=1/0,refCount:g=!1,scheduler:h}=i):_=null!=i?i:1/0,(0,t.B)({connector:()=>new s.t(_,m,h),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:g})}}}]);