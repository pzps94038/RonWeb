"use strict";(self.webpackChunkRonWeb=self.webpackChunkRonWeb||[]).push([[2],{3929:(y,M,t)=>{t.r(M),t.d(M,{HomeComponent:()=>O});var g=t(9079),e=t(4438),h=t(177),P=t(8403),T=t(4014),R=t(1659),l=t(980),v=t(4366),i=t(9584),_=t(8255),d=t(7343),p=t(2656);const m=(r,c)=>({categoryId:r,categoryName:c});function D(r,c){if(1&r){const a=e.RV6();e.j41(0,"app-article-card",5),e.bIt("category",function(n){e.eBV(a);const s=e.XpG(3);return e.Njj(s.navigateCategory(n))})("label",function(n){e.eBV(a);const s=e.XpG(3);return e.Njj(s.navigateLabel(n))})("showMore",function(){const n=e.eBV(a).$implicit,s=e.XpG(3);return e.Njj(s.showMore(n.articleId))}),e.k0s()}if(2&r){const a=c.$implicit;e.Y8G("articleId",a.articleId)("title",a.articleTitle)("date",a.createDate)("category",e.l_i(6,m,a.categoryId,a.categoryName))("labels",a.labels)("previewContent",a.previewContent)}}function u(r,c){if(1&r&&(e.qex(0),e.DNE(1,D,1,9,"app-article-card",4),e.bVm()),2&r){const a=e.XpG(2);e.R7$(),e.Y8G("ngForOf",a.articles())}}function f(r,c){if(1&r&&(e.qex(0),e.DNE(1,u,2,1,"ng-container",2),e.bVm()),2&r){const a=e.XpG(),o=e.sdS(2);e.R7$(),e.Y8G("ngIf",!a.isLoading())("ngIfElse",o)}}function E(r,c){1&r&&e.nrm(0,"app-loading-card")(1,"app-loading-card")(2,"app-loading-card")}function I(r,c){if(1&r){const a=e.RV6();e.j41(0,"div",6)(1,"app-error",7),e.bIt("refresh",function(){e.eBV(a);const n=e.XpG();return e.Njj(n.getArticle(n.page()))}),e.k0s()()}}let O=(()=>{var r;class c{constructor(){this.articleSrv=(0,e.WQX)(R.q),this.apiSrv=(0,e.WQX)(d.G),this.route=(0,e.WQX)(v.nX),this.router=(0,e.WQX)(v.Ix),this.codeBlockSrv=(0,e.WQX)(p.G),this.total=(0,e.vPA)(0),this.articles=(0,e.vPA)([]),this.isLoading=(0,e.vPA)(!1),this.isError=(0,e.vPA)(!1),this.page=(0,e.vPA)(1),this._destroyRef=(0,e.WQX)(e.abz)}ngOnInit(){this.route.queryParamMap.pipe((0,g.pQ)(this._destroyRef)).subscribe(o=>{const n=o.get("page"),s=n?parseInt(n):1;this.page.set(isNaN(s)?1:s),this.getArticle(this.page())})}getArticle(o){this.isError.set(!1),this.isLoading.set(!0),this.articleSrv.getArticle(o).pipe((0,l.j)(()=>this.isLoading.set(!1)),(0,g.pQ)(this._destroyRef)).subscribe({next:n=>{if(this.apiSrv.ifSuccess(n,!1)){const{data:{total:s,articles:C}}=n;this.total.set(s),this.articles.set(C),this.codeBlockSrv.highlightAllBlock()}else this.isError.set(!0)},error:n=>{this.isError.set(!0)}})}showMore(o){this.router.navigateByUrl("/blog/article/".concat(o))}navigateCategory({categoryId:o}){this.router.navigateByUrl("/blog/category/".concat(o))}navigateLabel({labelId:o}){this.router.navigateByUrl("/blog/label/".concat(o))}paginationChange(o){this.router.navigate(["/blog/home"],{queryParams:{page:o}})}}return(r=c).\u0275fac=function(o){return new(o||r)},r.\u0275cmp=e.VBU({type:r,selectors:[["app-home"]],standalone:!0,features:[e.aNF],decls:6,vars:4,consts:[["loading",""],["error",""],[4,"ngIf","ngIfElse"],[3,"change","total","currentPage"],[3,"articleId","title","date","category","labels","previewContent","label","showMore",4,"ngFor","ngForOf"],[3,"category","label","showMore","articleId","title","date","labels","previewContent"],[1,"bg-base-100","border","border-base-content/10","text-base-content","rounded-md","mx-0","md:mx-5","p-5","mb-5"],[3,"refresh"]],template:function(o,n){if(1&o){const s=e.RV6();e.DNE(0,f,2,2,"ng-container",2)(1,E,3,0,"ng-template",null,0,e.C5r)(3,I,2,0,"ng-template",null,1,e.C5r),e.j41(5,"app-pagination",3),e.bIt("change",function(b){return e.eBV(s),e.Njj(n.paginationChange(b))}),e.k0s()}if(2&o){const s=e.sdS(4);e.Y8G("ngIf",!n.isError())("ngIfElse",s),e.R7$(5),e.Y8G("total",n.total())("currentPage",n.page())}},dependencies:[h.MD,h.Sq,h.bT,P.O,T.e,i.A,_.G]}),c})()},3994:(y,M,t)=>{t.d(M,{N:()=>R});var g=t(4438),e=t(9819),h=t(7673),P=t(8141),T=t(9568);let R=(()=>{var l;class v{constructor(){this.transferState=(0,g.WQX)(g.pJN),this.deviceSrv=(0,g.WQX)(e.g)}transfer(_,d,p=!0){const m=(0,g.zw6)(_);if(this.transferState.hasKey(m)&&p){const D=this.transferState.get(m,void 0);return(0,h.of)(D)}return d().pipe((0,P.M)(u=>{this.deviceSrv.isServer&&this.transferState.set(m,u)}),(0,T.t)())}}return(l=v).\u0275fac=function(_){return new(_||l)},l.\u0275prov=g.jDH({token:l,factory:l.\u0275fac,providedIn:"root"}),v})()},9568:(y,M,t)=>{t.d(M,{t:()=>v});var g=t(2771),e=t(8750),h=t(1413),P=t(7707),T=t(9974);function l(i,_,...d){if(!0===_)return void i();if(!1===_)return;const p=new P.Ms({next:()=>{p.unsubscribe(),i()}});return(0,e.Tg)(_(...d)).subscribe(p)}function v(i,_,d){let p,m=!1;return i&&"object"==typeof i?({bufferSize:p=1/0,windowTime:_=1/0,refCount:m=!1,scheduler:d}=i):p=null!=i?i:1/0,function R(i={}){const{connector:_=(()=>new h.B),resetOnError:d=!0,resetOnComplete:p=!0,resetOnRefCountZero:m=!0}=i;return D=>{let u,f,E,I=0,O=!1,r=!1;const c=()=>{null==f||f.unsubscribe(),f=void 0},a=()=>{c(),u=E=void 0,O=r=!1},o=()=>{const n=u;a(),null==n||n.unsubscribe()};return(0,T.N)((n,s)=>{I++,!r&&!O&&c();const C=E=null!=E?E:_();s.add(()=>{I--,0===I&&!r&&!O&&(f=l(o,m))}),C.subscribe(s),!u&&I>0&&(u=new P.Ms({next:b=>C.next(b),error:b=>{r=!0,c(),f=l(a,d,b),C.error(b)},complete:()=>{O=!0,c(),f=l(a,p),C.complete()}}),(0,e.Tg)(n).subscribe(u))})(D)}}({connector:()=>new g.m(p,_,d),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:m})}}}]);