(self.webpackChunkRonWeb=self.webpackChunkRonWeb||[]).push([[294],{9294:(Z,S,a)=>{"use strict";a.r(S),a.d(S,{ArticleComponent:()=>j});var e=a(3020),M=a(4755),m=a(8884),v=a(508),h=a(9300),$=a(4004),c=a(8505),y=a(262),H=a(8746),b=a(9148),T=a(9415),J=a(3500),F=a(3772),B=a(2993),L=a(5249),Y=a(3665),Q=a(992);let E=(()=>{class i{get DISQUS(){return this._document.defaultView.DISQUS}get disqus_config(){return this._document.defaultView.disqus_config}set disqus_config(t){this._document.defaultView.disqus_config=t}constructor(t,s,n){this.renderer=t,this.el=s,this._document=n,this.newComment=new e.vpe(!0),this.ready=new e.vpe(!0),this.paginate=new e.vpe(!0)}ngOnChanges(){this.DISQUS?this.reset():this.addDisqusScript()}addDisqusScript(){this.disqus_config=this.getConfig();const t=this.renderer.createElement("script");t.src=`//${this.shortname}.disqus.com/embed.js`,t.async=!0,t.type="text/javascript",this.renderer.setAttribute(t,"data-timestamp",(new Date).getTime().toString()),this.renderer.appendChild(this.el.nativeElement,t)}reset(){this.DISQUS.reset({reload:!0,config:this.getConfig()})}getConfig(){const t=this;return function(){this.page.identifier=t.identifier,this.page.url=t.validateUrl(t.url),this.page.title=t.title,this.category_id=t.category,this.language=t.language,this.callbacks.onNewComment=[s=>t.newComment.emit(s)],this.callbacks.onReady=[s=>t.ready.emit(s)],this.callbacks.onPaginate=[s=>t.paginate.emit(s)]}}validateUrl(t){if(t){if(/(http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/.test(t))return t;console.warn("[Disqus]: Invalid URL")}}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(e.Qsj),e.Y36(e.SBq),e.Y36(M.K0))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-disqus"]],inputs:{url:"url",identifier:"identifier",title:"title",category:"category",language:"language",shortname:"shortname"},outputs:{newComment:"newComment",ready:"ready",paginate:"paginate"},standalone:!0,features:[e.TTD,e.jDz],decls:1,vars:0,consts:[["id","disqus_thread"]],template:function(t,s){1&t&&e._UZ(0,"div",0)},dependencies:[M.ez],changeDetection:0}),i})();var A=a(2340);const N=function(i){return["blog","category",i]};function U(i,r){if(1&i&&(e.ynx(0),e.TgZ(1,"div")(2,"h3",4),e._uU(3),e.qZA(),e.TgZ(4,"div")(5,"div",5),e._UZ(6,"ng-icon",6),e.TgZ(7,"h4"),e._uU(8),e.ALo(9,"dayJs"),e.qZA()(),e.TgZ(10,"a",7),e._UZ(11,"ng-icon",8),e.TgZ(12,"h5"),e._uU(13),e.qZA()()()(),e._UZ(14,"div",9)(15,"div",10),e.ALo(16,"safe"),e._UZ(17,"div",11)(18,"div",10),e.ALo(19,"safe"),e._UZ(20,"app-disqus",12),e.BQk()),2&i){const t=e.oxw(2);e.xp6(3),e.Oqu(t.article().articleTitle),e.xp6(5),e.Oqu(e.xi3(9,11,t.article().createDate,"YYYY/MM/DD hh:mm")),e.xp6(2),e.Q6J("routerLink",e.VKq(20,N,t.article().categoryId)),e.xp6(3),e.Oqu(t.article().categoryName),e.xp6(2),e.Q6J("innerHTML",e.xi3(16,14,t.article().previewContent,"html"),e.oJD),e.xp6(3),e.Q6J("innerHTML",e.xi3(19,17,t.article().content,"html"),e.oJD),e.xp6(2),e.Q6J("url",t.url())("identifier",t.article().articleId)("title",t.article().articleTitle)("category",t.article().categoryName)("shortname",t.shortname)}}function g(i,r){if(1&i&&(e.ynx(0),e.YNc(1,U,21,22,"ng-container",1),e.BQk()),2&i){const t=e.oxw(),s=e.MAs(3);e.xp6(1),e.Q6J("ngIf",!t.isLoading()&&t.article())("ngIfElse",s)}}function l(i,r){1&i&&(e.TgZ(0,"div")(1,"div",5),e._UZ(2,"div",13),e.qZA(),e.TgZ(3,"div")(4,"div",5),e._UZ(5,"div",13),e.qZA()()(),e._UZ(6,"div",9),e.TgZ(7,"div"),e._UZ(8,"div",14)(9,"div",14)(10,"div",14)(11,"div",14)(12,"div",14)(13,"div",14)(14,"div",14)(15,"div",14)(16,"div",14)(17,"div",14),e.qZA())}function w(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"app-error",15),e.NdJ("refresh",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.getArticleById(n.articleId()))}),e.qZA()}}let j=(()=>{class i{constructor(){this.articleSrv=(0,e.f3M)(m.n),this.route=(0,e.f3M)(b.gz),this.sharedSrv=(0,e.f3M)(J.F),this.router=(0,e.f3M)(b.F0),this.url=(0,e.tdS)(""),this.shortname=A.N.shortname,this.articleId=(0,e.tdS)(""),this.article=(0,e.tdS)(void 0),this.isLoading=(0,e.tdS)(!1),this.isError=(0,e.tdS)(!1),this._destroyRef=(0,e.f3M)(e.ktI)}ngOnInit(){this.route.paramMap.pipe((0,h.h)(t=>!!t.get("id")),(0,$.U)(t=>t.get("id")),(0,c.b)(t=>this.articleId.set(t)),(0,c.b)(()=>this.url.set(location.href)),(0,v.sL)(this._destroyRef)).subscribe(t=>this.getArticleById(t))}getArticleById(t){this.articleSrv.getArticleById(t).pipe((0,c.b)(()=>this.isLoading.set(!0)),(0,y.K)(s=>{throw this.isError.set(!0),s}),(0,H.x)(()=>this.isLoading.set(!1)),(0,v.sL)(this._destroyRef)).subscribe(s=>{if(this.sharedSrv.ifSuccess(s,!1)){const{data:n}=s;this.article.set(n)}else s.returnCode===T.N.NotFound?this.router.navigate(["blog","notFound"]):this.isError.set(!0)})}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-article"]],standalone:!0,features:[e._Bn([(0,B.kp)({heroCalendarDays:L.mVh,heroHashtag:L.u2C,heroTag:L.PRH})]),e.jDz],decls:6,vars:2,consts:[[1,"bg-base-100","border","border-base-content/10","text-base-content","rounded-md","mx-0","md:mx-5","p-5","mb-5"],[4,"ngIf","ngIfElse"],["loading",""],["error",""],[1,"text-xl","font-semibold"],[1,"flex","items-center"],["name","heroCalendarDays"],[1,"flex","items-center","link","link-secondary",3,"routerLink"],["name","heroHashtag"],[1,"divider","my-1"],[1,"ck-content",3,"innerHTML"],[1,"py-5"],["language","zh-TW",3,"url","identifier","title","category","shortname"],[1,"h-5","my-2","w-full","rounded-lg","bg-slate-300/10","relative","before:absolute","before:inset-0","before:-translate-x-full","before:animate-[shimmer_2s_infinite]","before:border-t","before:border-slate-300/10","before:bg-gradient-to-r","before:from-transparent","before:bg-slate-300/10","before:to-transparent","overflow-hidden"],[1,"h-5","my-3","w-full","rounded-lg","bg-slate-300/10","relative","before:absolute","before:inset-0","before:-translate-x-full","before:animate-[shimmer_2s_infinite]","before:border-t","before:border-slate-300/10","before:bg-gradient-to-r","before:from-transparent","before:bg-slate-300/10","before:to-transparent","overflow-hidden"],[3,"refresh"]],template:function(t,s){if(1&t&&(e.TgZ(0,"div",0),e.YNc(1,g,2,2,"ng-container",1),e.YNc(2,l,18,0,"ng-template",null,2,e.W1O),e.YNc(4,w,1,0,"ng-template",null,3,e.W1O),e.qZA()),2&t){const n=e.MAs(5);e.xp6(1),e.Q6J("ngIf",!s.isError())("ngIfElse",n)}},dependencies:[M.ez,M.O5,F.q,B.Fv,Y.g,b.rH,Q.y,E]}),i})()},8884:(Z,S,a)=>{"use strict";a.d(S,{n:()=>v});var e=a(3144),M=a(3020),m=a(2340);let v=(()=>{class h{constructor(){this.http=(0,M.f3M)(e.eN)}getArticle(c){if(c){const y=(new e.LE).append("page",c);return this.http.get(`${m.N.baseUrl}/article`,{params:y})}return this.http.get(`${m.N.baseUrl}/article`)}getArticleById(c){return this.http.get(`${m.N.baseUrl}/article/${c}`)}createArticle(c){return this.http.post(`${m.N.baseUrl}/article`,c)}updateArticle(c){return this.http.patch(`${m.N.baseUrl}/article/${c.articleId}`,c)}deleteArticle(c){return this.http.delete(`${m.N.baseUrl}/article/${c}`)}updateArticleViews(c){return this.http.patch(`${m.N.baseUrl}/article/updateArticleViews/${c}`,{})}}return h.\u0275fac=function(c){return new(c||h)},h.\u0275prov=M.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})()},3772:(Z,S,a)=>{"use strict";a.d(S,{q:()=>m});var e=a(3020),M=a(1730);let m=(()=>{class v{constructor(){this.errorOptions={path:"assets/lottie/error-404.json"},this.refreshEmitter=new e.vpe}}return v.\u0275fac=function($){return new($||v)},v.\u0275cmp=e.Xpm({type:v,selectors:[["app-error"]],outputs:{refreshEmitter:"refresh"},standalone:!0,features:[e.jDz],decls:5,vars:1,consts:[[3,"options"],[1,"flex","justify-center","items-center"],[1,"btn","btn-warning",3,"click"]],template:function($,c){1&$&&(e.TgZ(0,"div"),e._UZ(1,"ng-lottie",0),e.TgZ(2,"div",1)(3,"button",2),e.NdJ("click",function(){return c.refreshEmitter.emit(!0)}),e._uU(4,"\u91cd\u65b0\u6574\u7406"),e.qZA()()()),2&$&&(e.xp6(1),e.Q6J("options",c.errorOptions))},dependencies:[M.r]}),v})()},3665:(Z,S,a)=>{"use strict";a.d(S,{g:()=>v});var e=a(1764),m=a(3020);let v=(()=>{class h{transform(c,y){return e(c).format(y)}}return h.\u0275fac=function(c){return new(c||h)},h.\u0275pipe=m.Yjl({name:"dayJs",type:h,pure:!0,standalone:!0}),h})()},1764:function(Z){Z.exports=function(){"use strict";var a=6e4,e=36e5,M="millisecond",m="second",v="minute",h="hour",$="day",c="week",y="month",H="quarter",b="year",T="date",J="Invalid Date",F=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,B=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,L={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(i){var r=["th","st","nd","rd"],t=i%100;return"["+i+(r[(t-20)%10]||r[t]||r[0])+"]"}},Y=function(i,r,t){var s=String(i);return!s||s.length>=r?i:""+Array(r+1-s.length).join(t)+i},Q={s:Y,z:function(i){var r=-i.utcOffset(),t=Math.abs(r),s=Math.floor(t/60),n=t%60;return(r<=0?"+":"-")+Y(s,2,"0")+":"+Y(n,2,"0")},m:function i(r,t){if(r.date()<t.date())return-i(t,r);var s=12*(t.year()-r.year())+(t.month()-r.month()),n=r.clone().add(s,y),u=t-n<0,o=r.clone().add(s+(u?-1:1),y);return+(-(s+(t-n)/(u?n-o:o-n))||0)},a:function(i){return i<0?Math.ceil(i)||0:Math.floor(i)},p:function(i){return{M:y,y:b,w:c,d:$,D:T,h,m:v,s:m,ms:M,Q:H}[i]||String(i||"").toLowerCase().replace(/s$/,"")},u:function(i){return void 0===i}},E="en",A={};A[E]=L;var N=function(i){return i instanceof w},U=function i(r,t,s){var n;if(!r)return E;if("string"==typeof r){var u=r.toLowerCase();A[u]&&(n=u),t&&(A[u]=t,n=u);var o=r.split("-");if(!n&&o.length>1)return i(o[0])}else{var d=r.name;A[d]=r,n=d}return!s&&n&&(E=n),n||!s&&E},g=function(i,r){if(N(i))return i.clone();var t="object"==typeof r?r:{};return t.date=i,t.args=arguments,new w(t)},l=Q;l.l=U,l.i=N,l.w=function(i,r){return g(i,{locale:r.$L,utc:r.$u,x:r.$x,$offset:r.$offset})};var w=function(){function i(t){this.$L=U(t.locale,null,!0),this.parse(t)}var r=i.prototype;return r.parse=function(t){this.$d=function(s){var n=s.date,u=s.utc;if(null===n)return new Date(NaN);if(l.u(n))return new Date;if(n instanceof Date)return new Date(n);if("string"==typeof n&&!/Z$/i.test(n)){var o=n.match(F);if(o){var d=o[2]-1||0,p=(o[7]||"0").substring(0,3);return u?new Date(Date.UTC(o[1],d,o[3]||1,o[4]||0,o[5]||0,o[6]||0,p)):new Date(o[1],d,o[3]||1,o[4]||0,o[5]||0,o[6]||0,p)}}return new Date(n)}(t),this.$x=t.x||{},this.init()},r.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},r.$utils=function(){return l},r.isValid=function(){return this.$d.toString()!==J},r.isSame=function(t,s){var n=g(t);return this.startOf(s)<=n&&n<=this.endOf(s)},r.isAfter=function(t,s){return g(t)<this.startOf(s)},r.isBefore=function(t,s){return this.endOf(s)<g(t)},r.$g=function(t,s,n){return l.u(t)?this[s]:this.set(n,t)},r.unix=function(){return Math.floor(this.valueOf()/1e3)},r.valueOf=function(){return this.$d.getTime()},r.startOf=function(t,s){var n=this,u=!!l.u(s)||s,o=l.p(t),d=function(I,_){var x=l.w(n.$u?Date.UTC(n.$y,_,I):new Date(n.$y,_,I),n);return u?x:x.endOf($)},p=function(I,_){return l.w(n.toDate()[I].apply(n.toDate("s"),(u?[0,0,0,0]:[23,59,59,999]).slice(_)),n)},f=this.$W,D=this.$M,O=this.$D,C="set"+(this.$u?"UTC":"");switch(o){case b:return u?d(1,0):d(31,11);case y:return u?d(1,D):d(0,D+1);case c:var P=this.$locale().weekStart||0,W=(f<P?f+7:f)-P;return d(u?O-W:O+(6-W),D);case $:case T:return p(C+"Hours",0);case h:return p(C+"Minutes",1);case v:return p(C+"Seconds",2);case m:return p(C+"Milliseconds",3);default:return this.clone()}},r.endOf=function(t){return this.startOf(t,!1)},r.$set=function(t,s){var n,u=l.p(t),o="set"+(this.$u?"UTC":""),d=(n={},n[$]=o+"Date",n[T]=o+"Date",n[y]=o+"Month",n[b]=o+"FullYear",n[h]=o+"Hours",n[v]=o+"Minutes",n[m]=o+"Seconds",n[M]=o+"Milliseconds",n)[u],p=u===$?this.$D+(s-this.$W):s;if(u===y||u===b){var f=this.clone().set(T,1);f.$d[d](p),f.init(),this.$d=f.set(T,Math.min(this.$D,f.daysInMonth())).$d}else d&&this.$d[d](p);return this.init(),this},r.set=function(t,s){return this.clone().$set(t,s)},r.get=function(t){return this[l.p(t)]()},r.add=function(t,s){var n,u=this;t=Number(t);var o=l.p(s),d=function(D){var O=g(u);return l.w(O.date(O.date()+Math.round(D*t)),u)};if(o===y)return this.set(y,this.$M+t);if(o===b)return this.set(b,this.$y+t);if(o===$)return d(1);if(o===c)return d(7);var p=(n={},n[v]=a,n[h]=e,n[m]=1e3,n)[o]||1,f=this.$d.getTime()+t*p;return l.w(f,this)},r.subtract=function(t,s){return this.add(-1*t,s)},r.format=function(t){var s=this,n=this.$locale();if(!this.isValid())return n.invalidDate||J;var u=t||"YYYY-MM-DDTHH:mm:ssZ",o=l.z(this),d=this.$H,p=this.$m,f=this.$M,D=n.weekdays,O=n.months,C=function(_,x,z,R){return _&&(_[x]||_(s,u))||z[x].slice(0,R)},P=function(_){return l.s(d%12||12,_,"0")},W=n.meridiem||function(_,x,z){var R=_<12?"AM":"PM";return z?R.toLowerCase():R},I={YY:String(this.$y).slice(-2),YYYY:this.$y,M:f+1,MM:l.s(f+1,2,"0"),MMM:C(n.monthsShort,f,O,3),MMMM:C(O,f),D:this.$D,DD:l.s(this.$D,2,"0"),d:String(this.$W),dd:C(n.weekdaysMin,this.$W,D,2),ddd:C(n.weekdaysShort,this.$W,D,3),dddd:D[this.$W],H:String(d),HH:l.s(d,2,"0"),h:P(1),hh:P(2),a:W(d,p,!0),A:W(d,p,!1),m:String(p),mm:l.s(p,2,"0"),s:String(this.$s),ss:l.s(this.$s,2,"0"),SSS:l.s(this.$ms,3,"0"),Z:o};return u.replace(B,function(_,x){return x||I[_]||o.replace(":","")})},r.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},r.diff=function(t,s,n){var u,o=l.p(s),d=g(t),p=(d.utcOffset()-this.utcOffset())*a,f=this-d,D=l.m(this,d);return D=(u={},u[b]=D/12,u[y]=D,u[H]=D/3,u[c]=(f-p)/6048e5,u[$]=(f-p)/864e5,u[h]=f/e,u[v]=f/a,u[m]=f/1e3,u)[o]||f,n?D:l.a(D)},r.daysInMonth=function(){return this.endOf(y).$D},r.$locale=function(){return A[this.$L]},r.locale=function(t,s){if(!t)return this.$L;var n=this.clone(),u=U(t,s,!0);return u&&(n.$L=u),n},r.clone=function(){return l.w(this.$d,this)},r.toDate=function(){return new Date(this.valueOf())},r.toJSON=function(){return this.isValid()?this.toISOString():null},r.toISOString=function(){return this.$d.toISOString()},r.toString=function(){return this.$d.toUTCString()},i}(),j=w.prototype;return g.prototype=j,[["$ms",M],["$s",m],["$m",v],["$H",h],["$W",$],["$M",y],["$y",b],["$D",T]].forEach(function(i){j[i[1]]=function(r){return this.$g(r,i[0],i[1])}}),g.extend=function(i,r){return i.$i||(i(r,w,g),i.$i=!0),g},g.locale=U,g.isDayjs=N,g.unix=function(i){return g(1e3*i)},g.en=A[E],g.Ls=A,g.p={},g}()}}]);