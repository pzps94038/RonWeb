"use strict";(self.webpackChunkRonWeb=self.webpackChunkRonWeb||[]).push([[402],{6402:(E,g,n)=>{n.r(g),n.d(g,{HomeComponent:()=>T});var p=n(6736),t=n(9523),i=n(4755),d=n(6935),l=n(7915),m=n(8884),o=n(3500),h=n(262),f=n(8746),u=n(5796),M=n(8028),C=n(4217);const v=function(r,s){return{categoryId:r,categoryName:s}};function O(r,s){if(1&r){const e=t.EpF();t.TgZ(0,"app-article-card",5),t.NdJ("category",function(_){t.CHM(e);const c=t.oxw(3);return t.KtG(c.navigateCategory(_))})("label",function(_){t.CHM(e);const c=t.oxw(3);return t.KtG(c.navigateLabel(_))})("showMore",function(){const c=t.CHM(e).$implicit,y=t.oxw(3);return t.KtG(y.showMore(c.articleId))}),t.qZA()}if(2&r){const e=s.$implicit;t.Q6J("title",e.articleTitle)("date",e.createDate)("category",t.WLB(5,v,e.categoryId,e.categoryName))("labels",e.labels)("previewContent",e.previewContent)}}function A(r,s){if(1&r&&(t.ynx(0),t.YNc(1,O,1,8,"app-article-card",4),t.BQk()),2&r){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.articles())}}function P(r,s){if(1&r&&(t.ynx(0),t.YNc(1,A,2,1,"ng-container",0),t.BQk()),2&r){const e=t.oxw(),a=t.MAs(2);t.xp6(1),t.Q6J("ngIf",!e.isLoading())("ngIfElse",a)}}function D(r,s){1&r&&t._UZ(0,"app-loading-card")(1,"app-loading-card")(2,"app-loading-card")}function I(r,s){if(1&r){const e=t.EpF();t.TgZ(0,"div",6)(1,"app-error",7),t.NdJ("refresh",function(){t.CHM(e);const _=t.oxw();return t.KtG(_.getArticle())}),t.qZA()()}}let T=(()=>{class r{constructor(){this.articleSrv=(0,t.f3M)(m.n),this.sharedSrv=(0,t.f3M)(o.F),this.route=(0,t.f3M)(u.gz),this.router=(0,t.f3M)(u.F0),this.total=(0,t.tdS)(0),this.articles=(0,t.tdS)([]),this.isLoading=(0,t.tdS)(!1),this.isError=(0,t.tdS)(!1),this.page=(0,t.tdS)(1),this._destroyRef=(0,t.f3M)(t.ktI)}ngOnInit(){this.route.queryParamMap.pipe((0,p.sL)(this._destroyRef)).subscribe(e=>{const a=e.get("page"),_=a?parseInt(a):1;this.page.set(isNaN(_)?1:_),this.getArticle(this.page())})}getArticle(e){this.isError.set(!1),this.isLoading.set(!0),this.articleSrv.getArticle(e).pipe((0,h.K)(a=>{throw this.isError.set(!0),a}),(0,f.x)(()=>this.isLoading.set(!1)),(0,p.sL)(this._destroyRef)).subscribe(a=>{if(this.sharedSrv.ifSuccess(a,!1)){const{data:{total:_,articles:c}}=a;this.total.set(_),this.articles.set(c)}else this.isError.set(!0)})}showMore(e){this.router.navigateByUrl(`/blog/article/${e}`)}navigateCategory({categoryId:e}){this.router.navigateByUrl(`/blog/category/${e}`)}navigateLabel({labelId:e}){this.router.navigateByUrl(`/blog/label/${e}`)}paginationChange(e){this.router.navigate(["/blog/home"],{queryParams:{page:e}})}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-home"]],standalone:!0,features:[t.jDz],decls:6,vars:4,consts:[[4,"ngIf","ngIfElse"],["loading",""],["error",""],[3,"total","currentPage","change"],[3,"title","date","category","labels","previewContent","label","showMore",4,"ngFor","ngForOf"],[3,"title","date","category","labels","previewContent","label","showMore"],[1,"bg-base-100","border","border-base-content/10","text-base-content","rounded-md","mx-0","md:mx-5","p-5","mb-5"],[3,"refresh"]],template:function(e,a){if(1&e&&(t.YNc(0,P,2,2,"ng-container",0),t.YNc(1,D,3,0,"ng-template",null,1,t.W1O),t.YNc(3,I,2,0,"ng-template",null,2,t.W1O),t.TgZ(5,"app-pagination",3),t.NdJ("change",function(c){return a.paginationChange(c)}),t.qZA()),2&e){const _=t.MAs(4);t.Q6J("ngIf",!a.isError())("ngIfElse",_),t.xp6(5),t.Q6J("total",a.total())("currentPage",a.page())}},dependencies:[i.ez,i.sg,i.O5,d.y,l.Q,M.q,C.o]}),r})()},8884:(E,g,n)=>{n.d(g,{n:()=>d});var p=n(3144),t=n(9523),i=n(2340);let d=(()=>{class l{constructor(){this.http=(0,t.f3M)(p.eN)}getArticle(o){if(o){const h=(new p.LE).append("page",o);return this.http.get(`${i.N.baseUrl}/article`,{params:h})}return this.http.get(`${i.N.baseUrl}/article`)}getArticleById(o){return this.http.get(`${i.N.baseUrl}/article/${o}`)}createArticle(o){return this.http.post(`${i.N.baseUrl}/article`,o)}updateArticle(o){return this.http.patch(`${i.N.baseUrl}/article/${o.articleId}`,o)}deleteArticle(o){return this.http.delete(`${i.N.baseUrl}/article/${o}`)}updateArticleViews(o){return this.http.patch(`${i.N.baseUrl}/article/updateArticleViews/${o}`,{})}}return l.\u0275fac=function(o){return new(o||l)},l.\u0275prov=t.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),l})()}}]);