(self.webpackChunkRonWeb=self.webpackChunkRonWeb||[]).push([[101],{6101:(V,A,h)=>{"use strict";h.r(A),h.d(A,{HomeComponent:()=>l});var U=h(508),t=h(3020),_=h(4755),M=h(1764);let T=(()=>{class n{transform(e,i){return M(e).format(i)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=t.Yjl({name:"dayJs",type:n,pure:!0,standalone:!0}),n})();var y=h(2993),w=h(5249);let b=(()=>{class n{transform(e,i){return i||(i=150),(e?.length??0)>=i?e?.substring(0,i).concat("..."):e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=t.Yjl({name:"ellipsis",type:n,pure:!0,standalone:!0}),n})(),I=(()=>{class n{constructor(){this.showMore=new t.vpe,this.clickCategory=new t.vpe}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-article-card"]],inputs:{title:"title",date:"date",category:"category",previewContent:"previewContent"},outputs:{showMore:"showMore",clickCategory:"category"},standalone:!0,features:[t._Bn([(0,y.kp)({heroCalendarDays:w.mVh,heroHashtag:w.u2C,heroTag:w.PRH})]),t.jDz],decls:20,vars:9,consts:[[1,"bg-slate-800","rounded-md","mx-0","md:mx-5","p-5","mb-5"],[1,"text-xl","font-semibold"],[1,"flex","items-center"],["name","heroCalendarDays"],[1,"flex","items-center","link","link-accent",3,"click"],["name","heroHashtag"],[1,"divider","my-1"],[1,"link","link-accent",3,"click"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div")(2,"h3",1),t._uU(3),t.qZA(),t.TgZ(4,"div")(5,"div",2),t._UZ(6,"ng-icon",3),t.TgZ(7,"h5"),t._uU(8),t.ALo(9,"dayJs"),t.qZA()(),t.TgZ(10,"div",4),t.NdJ("click",function(){return i.clickCategory.emit(i.category)}),t._UZ(11,"ng-icon",5),t.TgZ(12,"h5"),t._uU(13),t.qZA()()()(),t._UZ(14,"div",6),t.TgZ(15,"div"),t._uU(16),t.ALo(17,"ellipsis"),t.qZA(),t.TgZ(18,"a",7),t.NdJ("click",function(){return i.showMore.emit(!0)}),t._uU(19,"... \u7e7c\u7e8c\u95b1\u8b80 ..."),t.qZA()()),2&e&&(t.xp6(3),t.Oqu(i.title),t.xp6(5),t.Oqu(t.xi3(9,4,i.date,"YYYY/MM/DD hh:mm")),t.xp6(5),t.Oqu(i.category.categoryName),t.xp6(3),t.Oqu(t.lcZ(17,7,i.previewContent)))},dependencies:[_.ez,T,y.Fv,b],changeDetection:0}),n})();function C(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"button",6),t.NdJ("click",function(){t.CHM(e);const g=t.oxw(2);return t.KtG(g.goToPage(1))}),t._uU(1,"1"),t.qZA()}}function Z(n,s){1&n&&(t.TgZ(0,"button",7),t._uU(1,"..."),t.qZA())}function Y(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"button",6),t.NdJ("click",function(){const m=t.CHM(e).$implicit,x=t.oxw(2);return t.KtG(x.goToPage(m))}),t._uU(1),t.qZA()}if(2&n){const e=s.$implicit,i=t.oxw(2);t.ekj("btn-active",e===i.currentPage()),t.xp6(1),t.hij(" ",e," ")}}function j(n,s){1&n&&(t.TgZ(0,"button",7),t._uU(1,"..."),t.qZA())}function B(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"button",6),t.NdJ("click",function(){t.CHM(e);const g=t.oxw(2);return t.KtG(g.goToPage(g.totalPages()))}),t._uU(1),t.qZA()}if(2&n){const e=t.oxw(2);t.xp6(1),t.hij(" ",e.totalPages()," ")}}function L(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",1)(1,"button",2),t.NdJ("click",function(){t.CHM(e);const g=t.oxw();return t.KtG(g.firstPage())}),t._uU(2,"\xab\xab"),t.qZA(),t.TgZ(3,"button",2),t.NdJ("click",function(){t.CHM(e);const g=t.oxw();return t.KtG(g.prevPage())}),t._uU(4,"\xab"),t.qZA(),t.YNc(5,C,2,0,"button",3),t.YNc(6,Z,2,0,"button",4),t.YNc(7,Y,2,3,"button",5),t.YNc(8,j,2,0,"button",4),t.YNc(9,B,2,1,"button",3),t.TgZ(10,"button",2),t.NdJ("click",function(){t.CHM(e);const g=t.oxw();return t.KtG(g.nextPage())}),t._uU(11,"\xbb"),t.qZA(),t.TgZ(12,"button",2),t.NdJ("click",function(){t.CHM(e);const g=t.oxw();return t.KtG(g.lastPage())}),t._uU(13,"\xbb\xbb"),t.qZA()()}if(2&n){const e=t.oxw();t.xp6(1),t.Q6J("disabled",1===e.currentPage()),t.xp6(2),t.Q6J("disabled",e.currentPage()-1<1),t.xp6(2),t.Q6J("ngIf",e.startPage()>1),t.xp6(1),t.Q6J("ngIf",e.startPage()>2),t.xp6(1),t.Q6J("ngForOf",e.visiblePages()),t.xp6(1),t.Q6J("ngIf",e.endPage()<e.totalPages()-1),t.xp6(1),t.Q6J("ngIf",e.endPage()<e.totalPages()),t.xp6(1),t.Q6J("disabled",e.currentPage()+1>e.totalPages()),t.xp6(2),t.Q6J("disabled",e.currentPage()===e.totalPages())}}let k=(()=>{class n{constructor(){this.curPage=1,this.size=10,this.total=0,this.pageChange=new t.vpe,this.currentPage=(0,t.tdS)(1),this.pageSize=(0,t.tdS)(10),this.totalItems=(0,t.tdS)(0),this.totalPages=(0,t.Flj)(()=>Math.ceil(this.totalItems()/this.pageSize())),this.maxVisiblePages=(0,t.tdS)(5),this.startPage=(0,t.Flj)(()=>{const e=Math.ceil(this.maxVisiblePages()/2);return Math.max(1,Math.min(this.currentPage()-e+1,this.totalPages()-this.maxVisiblePages()+1))}),this.endPage=(0,t.Flj)(()=>Math.min(this.startPage()+this.maxVisiblePages()-1,this.totalPages())),this.visiblePages=(0,t.Flj)(()=>{const e=[];for(let i=this.startPage();i<=this.endPage();i++)e.push(i);return e})}ngOnChanges(e){if(e?.size&&e?.size.currentValue!==e?.size.previousValue){const i=e?.size.currentValue;this.pageSize.set(i)}if(e?.curPage&&e?.curPage.currentValue!==e?.curPage.previousValue&&this.currentPage.set(e?.curPage.currentValue??1),e?.total&&e?.total.currentValue!==e?.total.previousValue){const i=e?.total.currentValue;this.totalItems.set(i)}}firstPage(){this.currentPage()>1&&this.goToPage(1)}prevPage(){this.currentPage()>1&&this.goToPage(this.currentPage()-1)}nextPage(){this.currentPage()<this.totalPages()&&this.goToPage(this.currentPage()+1)}lastPage(){this.currentPage()<this.totalPages()&&this.goToPage(this.totalPages())}goToPage(e){this.currentPage()!==e&&(this.currentPage.set(e),this.pageChange.emit(this.currentPage()))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-pagination"]],inputs:{curPage:["currentPage","curPage"],size:["pageSize","size"],total:"total"},outputs:{pageChange:"change"},standalone:!0,features:[t.TTD,t.jDz],decls:1,vars:1,consts:[["class","btn-group w-full flex justify-center",4,"ngIf"],[1,"btn-group","w-full","flex","justify-center"],[1,"btn",3,"disabled","click"],["class","btn",3,"click",4,"ngIf"],["class","btn","disabled","",4,"ngIf"],["class","btn",3,"btn-active","click",4,"ngFor","ngForOf"],[1,"btn",3,"click"],["disabled","",1,"btn"]],template:function(e,i){1&e&&t.YNc(0,L,14,9,"div",0),2&e&&t.Q6J("ngIf",!!i.totalItems())},dependencies:[_.ez,_.sg,_.O5],styles:["[_nghost-%COMP%]{display:block;width:100%}"]}),n})();var F=h(3144),P=h(2340);let $=(()=>{class n{constructor(){this.http=(0,t.f3M)(F.eN)}getArticle(e){if(e){const i=(new F.LE).append("page",e);return this.http.get(`${P.N.baseUrl}/article`,{params:i})}return this.http.get(`${P.N.baseUrl}/article`)}getArticleById(e){return this.http.get(`${P.N.baseUrl}/article/${e}`)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var J=h(3500),D=h(262),p=h(8746),f=h(6733),H=h(3772);let z=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-loading-card"]],standalone:!0,features:[t.jDz],decls:13,vars:0,consts:[[1,"bg-slate-800","rounded-md","mx-0","md:mx-5","p-5","mb-5"],[1,"text-xl","font-semibold"],[1,"h-5","my-2","w-full","rounded-lg","bg-slate-300/10","relative","before:absolute","before:inset-0","before:-translate-x-full","before:animate-[shimmer_2s_infinite]","before:border-t","before:border-slate-300/10","before:bg-gradient-to-r","before:from-transparent","before:bg-slate-300/10","before:to-transparent","overflow-hidden"],[1,"flex","items-center"],[1,"flex","items-center","link","link-accent"],[1,"divider","my-1"],[1,"h-5","my-3","w-full","rounded-lg","bg-slate-300/10","relative","before:absolute","before:inset-0","before:-translate-x-full","before:animate-[shimmer_2s_infinite]","before:border-t","before:border-slate-300/10","before:bg-gradient-to-r","before:from-transparent","before:bg-slate-300/10","before:to-transparent","overflow-hidden"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div")(2,"h3",1),t._UZ(3,"div",2),t.qZA(),t.TgZ(4,"div")(5,"div",3),t._UZ(6,"div",2),t.qZA(),t.TgZ(7,"div",4),t._UZ(8,"div",2),t.qZA()()(),t._UZ(9,"div",5),t.TgZ(10,"div"),t._UZ(11,"div",6)(12,"div",6),t.qZA()())},dependencies:[_.ez]}),n})();const c=function(n,s){return{categoryId:n,categoryName:s}};function a(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"app-article-card",5),t.NdJ("category",function(g){t.CHM(e);const m=t.oxw(3);return t.KtG(m.navigateCategory(g))})("showMore",function(){const m=t.CHM(e).$implicit,x=t.oxw(3);return t.KtG(x.showMore(m.articleId))}),t.qZA()}if(2&n){const e=s.$implicit;t.Q6J("title",e.articleTitle)("date",e.createDate)("category",t.WLB(4,c,e.categoryId,e.categoryName))("previewContent",e.previewContent)}}function r(n,s){if(1&n&&(t.ynx(0),t.YNc(1,a,1,7,"app-article-card",4),t.BQk()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",e.articles())}}function u(n,s){if(1&n&&(t.ynx(0),t.YNc(1,r,2,1,"ng-container",0),t.BQk()),2&n){const e=t.oxw(),i=t.MAs(2);t.xp6(1),t.Q6J("ngIf",!e.isLoading())("ngIfElse",i)}}function o(n,s){1&n&&t._UZ(0,"app-loading-card")(1,"app-loading-card")(2,"app-loading-card")}function d(n,s){if(1&n){const e=t.EpF();t.TgZ(0,"div",6)(1,"app-error",7),t.NdJ("refresh",function(){t.CHM(e);const g=t.oxw();return t.KtG(g.getArticle())}),t.qZA()()}}let l=(()=>{class n{constructor(){this.articleSrv=(0,t.f3M)($),this.sharedSrv=(0,t.f3M)(J.F),this.router=(0,t.f3M)(f.F0),this.total=(0,t.tdS)(0),this.articles=(0,t.tdS)([]),this.isLoading=(0,t.tdS)(!1),this.isError=(0,t.tdS)(!1),this._destroyRef=(0,t.f3M)(t.ktI)}ngOnInit(){this.getArticle()}getArticle(e){this.isError.set(!1),this.isLoading.set(!0),this.articleSrv.getArticle(e).pipe((0,D.K)(i=>{throw this.isError.set(!0),i}),(0,p.x)(()=>this.isLoading.set(!1)),(0,U.sL)(this._destroyRef)).subscribe(i=>{if(this.sharedSrv.ifSuccess(i)){const{data:{total:g,articles:m}}=i;this.total.set(g),this.articles.set(m)}else this.isError.set(!0)})}showMore(e){this.router.navigateByUrl(`/blog/article/${e}`)}navigateCategory({categoryId:e}){this.router.navigateByUrl(`/blog/category/${e}`)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-home"]],standalone:!0,features:[t.jDz],decls:6,vars:3,consts:[[4,"ngIf","ngIfElse"],["loading",""],["error",""],[3,"total","change"],[3,"title","date","category","previewContent","showMore",4,"ngFor","ngForOf"],[3,"title","date","category","previewContent","showMore"],[1,"bg-slate-800","rounded-md","mx-0","md:mx-5","p-5","mb-5"],[3,"refresh"]],template:function(e,i){if(1&e&&(t.YNc(0,u,2,2,"ng-container",0),t.YNc(1,o,3,0,"ng-template",null,1,t.W1O),t.YNc(3,d,2,0,"ng-template",null,2,t.W1O),t.TgZ(5,"app-pagination",3),t.NdJ("change",function(m){return i.getArticle(m)}),t.qZA()),2&e){const g=t.MAs(4);t.Q6J("ngIf",!i.isError())("ngIfElse",g),t.xp6(5),t.Q6J("total",i.total())}},dependencies:[_.ez,_.sg,_.O5,I,k,H.q,z]}),n})()},1764:function(V){V.exports=function(){"use strict";var h=6e4,U=36e5,t="millisecond",_="second",M="minute",T="hour",y="day",w="week",b="month",I="quarter",C="year",Z="date",Y="Invalid Date",j=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,B=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,L={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(c){var a=["th","st","nd","rd"],r=c%100;return"["+c+(a[(r-20)%10]||a[r]||a[0])+"]"}},k=function(c,a,r){var u=String(c);return!u||u.length>=a?c:""+Array(a+1-u.length).join(r)+c},F={s:k,z:function(c){var a=-c.utcOffset(),r=Math.abs(a),u=Math.floor(r/60),o=r%60;return(a<=0?"+":"-")+k(u,2,"0")+":"+k(o,2,"0")},m:function c(a,r){if(a.date()<r.date())return-c(r,a);var u=12*(r.year()-a.year())+(r.month()-a.month()),o=a.clone().add(u,b),d=r-o<0,l=a.clone().add(u+(d?-1:1),b);return+(-(u+(r-o)/(d?o-l:l-o))||0)},a:function(c){return c<0?Math.ceil(c)||0:Math.floor(c)},p:function(c){return{M:b,y:C,w,d:y,D:Z,h:T,m:M,s:_,ms:t,Q:I}[c]||String(c||"").toLowerCase().replace(/s$/,"")},u:function(c){return void 0===c}},P="en",$={};$[P]=L;var J=function(c){return c instanceof H},D=function c(a,r,u){var o;if(!a)return P;if("string"==typeof a){var d=a.toLowerCase();$[d]&&(o=d),r&&($[d]=r,o=d);var l=a.split("-");if(!o&&l.length>1)return c(l[0])}else{var n=a.name;$[n]=a,o=n}return!u&&o&&(P=o),o||!u&&P},p=function(c,a){if(J(c))return c.clone();var r="object"==typeof a?a:{};return r.date=c,r.args=arguments,new H(r)},f=F;f.l=D,f.i=J,f.w=function(c,a){return p(c,{locale:a.$L,utc:a.$u,x:a.$x,$offset:a.$offset})};var H=function(){function c(r){this.$L=D(r.locale,null,!0),this.parse(r)}var a=c.prototype;return a.parse=function(r){this.$d=function(u){var o=u.date,d=u.utc;if(null===o)return new Date(NaN);if(f.u(o))return new Date;if(o instanceof Date)return new Date(o);if("string"==typeof o&&!/Z$/i.test(o)){var l=o.match(j);if(l){var n=l[2]-1||0,s=(l[7]||"0").substring(0,3);return d?new Date(Date.UTC(l[1],n,l[3]||1,l[4]||0,l[5]||0,l[6]||0,s)):new Date(l[1],n,l[3]||1,l[4]||0,l[5]||0,l[6]||0,s)}}return new Date(o)}(r),this.$x=r.x||{},this.init()},a.init=function(){var r=this.$d;this.$y=r.getFullYear(),this.$M=r.getMonth(),this.$D=r.getDate(),this.$W=r.getDay(),this.$H=r.getHours(),this.$m=r.getMinutes(),this.$s=r.getSeconds(),this.$ms=r.getMilliseconds()},a.$utils=function(){return f},a.isValid=function(){return this.$d.toString()!==Y},a.isSame=function(r,u){var o=p(r);return this.startOf(u)<=o&&o<=this.endOf(u)},a.isAfter=function(r,u){return p(r)<this.startOf(u)},a.isBefore=function(r,u){return this.endOf(u)<p(r)},a.$g=function(r,u,o){return f.u(r)?this[u]:this.set(o,r)},a.unix=function(){return Math.floor(this.valueOf()/1e3)},a.valueOf=function(){return this.$d.getTime()},a.startOf=function(r,u){var o=this,d=!!f.u(u)||u,l=f.p(r),n=function(O,v){var S=f.w(o.$u?Date.UTC(o.$y,v,O):new Date(o.$y,v,O),o);return d?S:S.endOf(y)},s=function(O,v){return f.w(o.toDate()[O].apply(o.toDate("s"),(d?[0,0,0,0]:[23,59,59,999]).slice(v)),o)},e=this.$W,i=this.$M,g=this.$D,m="set"+(this.$u?"UTC":"");switch(l){case C:return d?n(1,0):n(31,11);case b:return d?n(1,i):n(0,i+1);case w:var x=this.$locale().weekStart||0,N=(e<x?e+7:e)-x;return n(d?g-N:g+(6-N),i);case y:case Z:return s(m+"Hours",0);case T:return s(m+"Minutes",1);case M:return s(m+"Seconds",2);case _:return s(m+"Milliseconds",3);default:return this.clone()}},a.endOf=function(r){return this.startOf(r,!1)},a.$set=function(r,u){var o,d=f.p(r),l="set"+(this.$u?"UTC":""),n=(o={},o[y]=l+"Date",o[Z]=l+"Date",o[b]=l+"Month",o[C]=l+"FullYear",o[T]=l+"Hours",o[M]=l+"Minutes",o[_]=l+"Seconds",o[t]=l+"Milliseconds",o)[d],s=d===y?this.$D+(u-this.$W):u;if(d===b||d===C){var e=this.clone().set(Z,1);e.$d[n](s),e.init(),this.$d=e.set(Z,Math.min(this.$D,e.daysInMonth())).$d}else n&&this.$d[n](s);return this.init(),this},a.set=function(r,u){return this.clone().$set(r,u)},a.get=function(r){return this[f.p(r)]()},a.add=function(r,u){var o,d=this;r=Number(r);var l=f.p(u),n=function(i){var g=p(d);return f.w(g.date(g.date()+Math.round(i*r)),d)};if(l===b)return this.set(b,this.$M+r);if(l===C)return this.set(C,this.$y+r);if(l===y)return n(1);if(l===w)return n(7);var s=(o={},o[M]=h,o[T]=U,o[_]=1e3,o)[l]||1,e=this.$d.getTime()+r*s;return f.w(e,this)},a.subtract=function(r,u){return this.add(-1*r,u)},a.format=function(r){var u=this,o=this.$locale();if(!this.isValid())return o.invalidDate||Y;var d=r||"YYYY-MM-DDTHH:mm:ssZ",l=f.z(this),n=this.$H,s=this.$m,e=this.$M,i=o.weekdays,g=o.months,m=function(v,S,Q,E){return v&&(v[S]||v(u,d))||Q[S].slice(0,E)},x=function(v){return f.s(n%12||12,v,"0")},N=o.meridiem||function(v,S,Q){var E=v<12?"AM":"PM";return Q?E.toLowerCase():E},O={YY:String(this.$y).slice(-2),YYYY:this.$y,M:e+1,MM:f.s(e+1,2,"0"),MMM:m(o.monthsShort,e,g,3),MMMM:m(g,e),D:this.$D,DD:f.s(this.$D,2,"0"),d:String(this.$W),dd:m(o.weekdaysMin,this.$W,i,2),ddd:m(o.weekdaysShort,this.$W,i,3),dddd:i[this.$W],H:String(n),HH:f.s(n,2,"0"),h:x(1),hh:x(2),a:N(n,s,!0),A:N(n,s,!1),m:String(s),mm:f.s(s,2,"0"),s:String(this.$s),ss:f.s(this.$s,2,"0"),SSS:f.s(this.$ms,3,"0"),Z:l};return d.replace(B,function(v,S){return S||O[v]||l.replace(":","")})},a.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},a.diff=function(r,u,o){var d,l=f.p(u),n=p(r),s=(n.utcOffset()-this.utcOffset())*h,e=this-n,i=f.m(this,n);return i=(d={},d[C]=i/12,d[b]=i,d[I]=i/3,d[w]=(e-s)/6048e5,d[y]=(e-s)/864e5,d[T]=e/U,d[M]=e/h,d[_]=e/1e3,d)[l]||e,o?i:f.a(i)},a.daysInMonth=function(){return this.endOf(b).$D},a.$locale=function(){return $[this.$L]},a.locale=function(r,u){if(!r)return this.$L;var o=this.clone(),d=D(r,u,!0);return d&&(o.$L=d),o},a.clone=function(){return f.w(this.$d,this)},a.toDate=function(){return new Date(this.valueOf())},a.toJSON=function(){return this.isValid()?this.toISOString():null},a.toISOString=function(){return this.$d.toISOString()},a.toString=function(){return this.$d.toUTCString()},c}(),z=H.prototype;return p.prototype=z,[["$ms",t],["$s",_],["$m",M],["$H",T],["$W",y],["$M",b],["$y",C],["$D",Z]].forEach(function(c){z[c[1]]=function(a){return this.$g(a,c[0],c[1])}}),p.extend=function(c,a){return c.$i||(c(a,H,p),c.$i=!0),p},p.locale=D,p.isDayjs=J,p.unix=function(c){return p(1e3*c)},p.en=$[P],p.Ls=$,p.p={},p}()}}]);