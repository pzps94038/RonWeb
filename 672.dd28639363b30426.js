(self.webpackChunkRonWeb=self.webpackChunkRonWeb||[]).push([[672],{7672:(k,N,h)=>{"use strict";h.r(N),h.d(N,{HomeComponent:()=>x});var F=h(508),t=h(3020),D=h(4755),A=h(1764);let H=(()=>{class i{transform(o,l){return A(o).format(l)}}return i.\u0275fac=function(o){return new(o||i)},i.\u0275pipe=t.Yjl({name:"dayJs",type:i,pure:!0,standalone:!0}),i})();var S=h(2993),Z=h(5249);let C=(()=>{class i{transform(o,l=150){return o.length>=l?o.substring(0,l).concat("..."):o}}return i.\u0275fac=function(o){return new(o||i)},i.\u0275pipe=t.Yjl({name:"ellipsis",type:i,pure:!0,standalone:!0}),i})(),J=(()=>{class i{constructor(){this.showMore=new t.vpe,this.clickCategory=new t.vpe}}return i.\u0275fac=function(o){return new(o||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-article-card"]],inputs:{title:"title",date:"date",category:"category",previewContent:"previewContent"},outputs:{showMore:"showMore",clickCategory:"category"},standalone:!0,features:[t._Bn([(0,S.kp)({heroCalendarDays:Z.mVh,heroHashtag:Z.u2C,heroTag:Z.PRH})]),t.jDz],decls:20,vars:9,consts:[[1,"bg-slate-800","rounded-md","mx-0","md:mx-5","p-5","mb-5"],[1,"text-xl","font-semibold"],[1,"flex","items-center"],["name","heroCalendarDays"],[1,"flex","items-center","link","link-accent",3,"click"],["name","heroHashtag"],[1,"divider","my-1"],[1,"link","link-accent",3,"click"]],template:function(o,l){1&o&&(t.TgZ(0,"div",0)(1,"div")(2,"h3",1),t._uU(3),t.qZA(),t.TgZ(4,"div")(5,"div",2),t._UZ(6,"ng-icon",3),t.TgZ(7,"h5"),t._uU(8),t.ALo(9,"dayJs"),t.qZA()(),t.TgZ(10,"div",4),t.NdJ("click",function(){return l.clickCategory.emit(l.category)}),t._UZ(11,"ng-icon",5),t.TgZ(12,"h5"),t._uU(13),t.qZA()()()(),t._UZ(14,"div",6),t.TgZ(15,"div"),t._uU(16),t.ALo(17,"ellipsis"),t.qZA(),t.TgZ(18,"a",7),t.NdJ("click",function(){return l.showMore.emit(!0)}),t._uU(19,"... \u7e7c\u7e8c\u95b1\u8b80 ..."),t.qZA()()),2&o&&(t.xp6(3),t.Oqu(l.title),t.xp6(5),t.Oqu(t.xi3(9,4,l.date,"YYYY/MM/DD hh:mm")),t.xp6(5),t.Oqu(l.category.categoryName),t.xp6(3),t.Oqu(t.lcZ(17,7,l.previewContent)))},dependencies:[D.ez,H,S.Fv,C],changeDetection:0}),i})();var w=h(3144),T=h(2340);let L=(()=>{class i{constructor(){this.http=(0,t.f3M)(w.eN)}getArticle(o){if(o){const l=(new w.LE).append("page",o);return this.http.get(`${T.N.baseUrl}/article`,{params:l})}return this.http.get(`${T.N.baseUrl}/article`)}getArticleById(o){return this.http.get(`${T.N.baseUrl}/article/${o}`)}}return i.\u0275fac=function(o){return new(o||i)},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var B=h(3500),j=h(1566),P=h(7272),b=h(5698),Q=h(4482),Y=h(5403),O=h(5032),I=h(9718),$=h(5577),m=h(8421);function _(i,f){return f?o=>(0,P.z)(f.pipe((0,b.q)(1),function U(){return(0,Q.e)((i,f)=>{i.subscribe((0,Y.x)(f,O.Z))})}()),o.pipe(_(i))):(0,$.z)((o,l)=>(0,m.Xf)(i(o,l)).pipe((0,b.q)(1),(0,I.h)(o)))}var W=h(5963),r=h(262),e=h(8746),a=h(4092),n=h(3772);const u=function(i,f){return{categoryId:i,categoryName:f}};function c(i,f){if(1&i){const o=t.EpF();t.TgZ(0,"app-article-card",4),t.NdJ("category",function(p){t.CHM(o);const M=t.oxw(3);return t.KtG(M.navigateCategory(p))})("showMore",function(){const M=t.CHM(o).$implicit,E=t.oxw(3);return t.KtG(E.showMore(M.articleId))}),t.qZA()}if(2&i){const o=f.$implicit;t.Q6J("title",o.articleTitle)("date",o.createDate)("category",t.WLB(4,u,o.categoryId,o.categoryName))("previewContent",o.previewContent)}}function d(i,f){if(1&i&&(t.ynx(0),t.YNc(1,c,1,7,"app-article-card",3),t.BQk()),2&i){const o=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",o.articles())}}function v(i,f){if(1&i&&(t.ynx(0),t.YNc(1,d,2,1,"ng-container",0),t.BQk()),2&i){const o=t.oxw(),l=t.MAs(2);t.xp6(1),t.Q6J("ngIf",!o.isLoading())("ngIfElse",l)}}function g(i,f){1&i&&t._UZ(0,"div",5)(1,"div",5)(2,"div",5)(3,"div",5)(4,"div",5)}function y(i,f){if(1&i){const o=t.EpF();t.TgZ(0,"app-error",6),t.NdJ("refresh",function(){t.CHM(o);const p=t.oxw();return t.KtG(p.getArticle())}),t.qZA()}}let x=(()=>{class i{constructor(){this.articleSrv=(0,t.f3M)(L),this.sharedSrv=(0,t.f3M)(B.F),this.router=(0,t.f3M)(a.F0),this.total=(0,t.tdS)(0),this.articles=(0,t.tdS)([]),this.isLoading=(0,t.tdS)(!1),this.isError=(0,t.tdS)(!1),this._destroyRef=(0,t.f3M)(t.ktI)}ngOnInit(){this.getArticle()}getArticle(o){this.isLoading.set(!0),this.articleSrv.getArticle().pipe(function s(i,f=j.z){const o=(0,W.H)(i,f);return _(()=>o)}(1e4),(0,r.K)(l=>{throw this.isError.set(!0),l}),(0,e.x)(()=>this.isLoading.set(!1)),(0,F.sL)(this._destroyRef)).subscribe(l=>{if(this.sharedSrv.ifSuccess(l)){const{data:{total:p,articles:M}}=l;this.total.set(p),this.articles.set(M)}else this.isError.set(!0)})}showMore(o){this.router.navigateByUrl(`/blog/article/${o}`)}navigateCategory({categoryId:o}){this.router.navigateByUrl(`/blog/category/${o}`)}}return i.\u0275fac=function(o){return new(o||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-home"]],standalone:!0,features:[t.jDz],decls:5,vars:2,consts:[[4,"ngIf","ngIfElse"],["loading",""],["error",""],[3,"title","date","category","previewContent","showMore",4,"ngFor","ngForOf"],[3,"title","date","category","previewContent","showMore"],[1,"h-5","my-3","w-full","rounded-lg","bg-slate-300/10","relative","before:absolute","before:inset-0","before:-translate-x-full","before:animate-[shimmer_2s_infinite]","before:border-t","before:border-slate-300/10","before:bg-gradient-to-r","before:from-transparent","before:bg-slate-300/10","before:to-transparent","overflow-hidden"],[3,"refresh"]],template:function(o,l){if(1&o&&(t.YNc(0,v,2,2,"ng-container",0),t.YNc(1,g,5,0,"ng-template",null,1,t.W1O),t.YNc(3,y,1,0,"ng-template",null,2,t.W1O)),2&o){const p=t.MAs(4);t.Q6J("ngIf",!l.isError())("ngIfElse",p)}},dependencies:[D.ez,D.sg,D.O5,J,n.q]}),i})()},1764:function(k){k.exports=function(){"use strict";var h=6e4,F=36e5,t="millisecond",D="second",A="minute",H="hour",S="day",Z="week",C="month",J="quarter",w="year",T="date",L="Invalid Date",B=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,j=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,P={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(s){var r=["th","st","nd","rd"],e=s%100;return"["+s+(r[(e-20)%10]||r[e]||r[0])+"]"}},b=function(s,r,e){var a=String(s);return!a||a.length>=r?s:""+Array(r+1-a.length).join(e)+s},Q={s:b,z:function(s){var r=-s.utcOffset(),e=Math.abs(r),a=Math.floor(e/60),n=e%60;return(r<=0?"+":"-")+b(a,2,"0")+":"+b(n,2,"0")},m:function s(r,e){if(r.date()<e.date())return-s(e,r);var a=12*(e.year()-r.year())+(e.month()-r.month()),n=r.clone().add(a,C),u=e-n<0,c=r.clone().add(a+(u?-1:1),C);return+(-(a+(e-n)/(u?n-c:c-n))||0)},a:function(s){return s<0?Math.ceil(s)||0:Math.floor(s)},p:function(s){return{M:C,y:w,w:Z,d:S,D:T,h:H,m:A,s:D,ms:t,Q:J}[s]||String(s||"").toLowerCase().replace(/s$/,"")},u:function(s){return void 0===s}},Y="en",O={};O[Y]=P;var U=function(s){return s instanceof _},I=function s(r,e,a){var n;if(!r)return Y;if("string"==typeof r){var u=r.toLowerCase();O[u]&&(n=u),e&&(O[u]=e,n=u);var c=r.split("-");if(!n&&c.length>1)return s(c[0])}else{var d=r.name;O[d]=r,n=d}return!a&&n&&(Y=n),n||!a&&Y},$=function(s,r){if(U(s))return s.clone();var e="object"==typeof r?r:{};return e.date=s,e.args=arguments,new _(e)},m=Q;m.l=I,m.i=U,m.w=function(s,r){return $(s,{locale:r.$L,utc:r.$u,x:r.$x,$offset:r.$offset})};var _=function(){function s(e){this.$L=I(e.locale,null,!0),this.parse(e)}var r=s.prototype;return r.parse=function(e){this.$d=function(a){var n=a.date,u=a.utc;if(null===n)return new Date(NaN);if(m.u(n))return new Date;if(n instanceof Date)return new Date(n);if("string"==typeof n&&!/Z$/i.test(n)){var c=n.match(B);if(c){var d=c[2]-1||0,v=(c[7]||"0").substring(0,3);return u?new Date(Date.UTC(c[1],d,c[3]||1,c[4]||0,c[5]||0,c[6]||0,v)):new Date(c[1],d,c[3]||1,c[4]||0,c[5]||0,c[6]||0,v)}}return new Date(n)}(e),this.$x=e.x||{},this.init()},r.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},r.$utils=function(){return m},r.isValid=function(){return this.$d.toString()!==L},r.isSame=function(e,a){var n=$(e);return this.startOf(a)<=n&&n<=this.endOf(a)},r.isAfter=function(e,a){return $(e)<this.startOf(a)},r.isBefore=function(e,a){return this.endOf(a)<$(e)},r.$g=function(e,a,n){return m.u(e)?this[a]:this.set(n,e)},r.unix=function(){return Math.floor(this.valueOf()/1e3)},r.valueOf=function(){return this.$d.getTime()},r.startOf=function(e,a){var n=this,u=!!m.u(a)||a,c=m.p(e),d=function(l,p){var M=m.w(n.$u?Date.UTC(n.$y,p,l):new Date(n.$y,p,l),n);return u?M:M.endOf(S)},v=function(l,p){return m.w(n.toDate()[l].apply(n.toDate("s"),(u?[0,0,0,0]:[23,59,59,999]).slice(p)),n)},g=this.$W,y=this.$M,x=this.$D,i="set"+(this.$u?"UTC":"");switch(c){case w:return u?d(1,0):d(31,11);case C:return u?d(1,y):d(0,y+1);case Z:var f=this.$locale().weekStart||0,o=(g<f?g+7:g)-f;return d(u?x-o:x+(6-o),y);case S:case T:return v(i+"Hours",0);case H:return v(i+"Minutes",1);case A:return v(i+"Seconds",2);case D:return v(i+"Milliseconds",3);default:return this.clone()}},r.endOf=function(e){return this.startOf(e,!1)},r.$set=function(e,a){var n,u=m.p(e),c="set"+(this.$u?"UTC":""),d=(n={},n[S]=c+"Date",n[T]=c+"Date",n[C]=c+"Month",n[w]=c+"FullYear",n[H]=c+"Hours",n[A]=c+"Minutes",n[D]=c+"Seconds",n[t]=c+"Milliseconds",n)[u],v=u===S?this.$D+(a-this.$W):a;if(u===C||u===w){var g=this.clone().set(T,1);g.$d[d](v),g.init(),this.$d=g.set(T,Math.min(this.$D,g.daysInMonth())).$d}else d&&this.$d[d](v);return this.init(),this},r.set=function(e,a){return this.clone().$set(e,a)},r.get=function(e){return this[m.p(e)]()},r.add=function(e,a){var n,u=this;e=Number(e);var c=m.p(a),d=function(y){var x=$(u);return m.w(x.date(x.date()+Math.round(y*e)),u)};if(c===C)return this.set(C,this.$M+e);if(c===w)return this.set(w,this.$y+e);if(c===S)return d(1);if(c===Z)return d(7);var v=(n={},n[A]=h,n[H]=F,n[D]=1e3,n)[c]||1,g=this.$d.getTime()+e*v;return m.w(g,this)},r.subtract=function(e,a){return this.add(-1*e,a)},r.format=function(e){var a=this,n=this.$locale();if(!this.isValid())return n.invalidDate||L;var u=e||"YYYY-MM-DDTHH:mm:ssZ",c=m.z(this),d=this.$H,v=this.$m,g=this.$M,y=n.weekdays,x=n.months,i=function(p,M,E,z){return p&&(p[M]||p(a,u))||E[M].slice(0,z)},f=function(p){return m.s(d%12||12,p,"0")},o=n.meridiem||function(p,M,E){var z=p<12?"AM":"PM";return E?z.toLowerCase():z},l={YY:String(this.$y).slice(-2),YYYY:this.$y,M:g+1,MM:m.s(g+1,2,"0"),MMM:i(n.monthsShort,g,x,3),MMMM:i(x,g),D:this.$D,DD:m.s(this.$D,2,"0"),d:String(this.$W),dd:i(n.weekdaysMin,this.$W,y,2),ddd:i(n.weekdaysShort,this.$W,y,3),dddd:y[this.$W],H:String(d),HH:m.s(d,2,"0"),h:f(1),hh:f(2),a:o(d,v,!0),A:o(d,v,!1),m:String(v),mm:m.s(v,2,"0"),s:String(this.$s),ss:m.s(this.$s,2,"0"),SSS:m.s(this.$ms,3,"0"),Z:c};return u.replace(j,function(p,M){return M||l[p]||c.replace(":","")})},r.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},r.diff=function(e,a,n){var u,c=m.p(a),d=$(e),v=(d.utcOffset()-this.utcOffset())*h,g=this-d,y=m.m(this,d);return y=(u={},u[w]=y/12,u[C]=y,u[J]=y/3,u[Z]=(g-v)/6048e5,u[S]=(g-v)/864e5,u[H]=g/F,u[A]=g/h,u[D]=g/1e3,u)[c]||g,n?y:m.a(y)},r.daysInMonth=function(){return this.endOf(C).$D},r.$locale=function(){return O[this.$L]},r.locale=function(e,a){if(!e)return this.$L;var n=this.clone(),u=I(e,a,!0);return u&&(n.$L=u),n},r.clone=function(){return m.w(this.$d,this)},r.toDate=function(){return new Date(this.valueOf())},r.toJSON=function(){return this.isValid()?this.toISOString():null},r.toISOString=function(){return this.$d.toISOString()},r.toString=function(){return this.$d.toUTCString()},s}(),W=_.prototype;return $.prototype=W,[["$ms",t],["$s",D],["$m",A],["$H",H],["$W",S],["$M",C],["$y",w],["$D",T]].forEach(function(s){W[s[1]]=function(r){return this.$g(r,s[0],s[1])}}),$.extend=function(s,r){return s.$i||(s(r,_,$),s.$i=!0),$},$.locale=I,$.isDayjs=U,$.unix=function(s){return $(1e3*s)},$.en=O[Y],$.Ls=O,$.p={},$}()}}]);