(self.webpackChunkRonWeb=self.webpackChunkRonWeb||[]).push([[28],{8028:(w,O,c)=>{"use strict";c.r(O),c.d(O,{ArticleComponent:()=>u});var t=c(3020),A=c(4755),g=c(8884),v=c(6736),p=c(9300),y=c(4004),f=c(8505),M=c(262),R=c(8746),D=c(9148),x=c(9415),N=c(3500),j=c(3772),H=c(2993),Y=c(5249),J=c(3665),z=c(992),E=c(2340),C=c(7579),U=c(2722),I=c(928);let $=(()=>{class s{constructor(){this.deviceSrv=(0,t.f3M)(I.U),this.sharedSrv=(0,t.f3M)(N.F),this.elementRef=(0,t.f3M)(t.SBq),this.router=(0,t.f3M)(D.F0),this.darkMode$=(0,v.Dx)(this.sharedSrv.darkMode),this._destroy$=new C.x}ngOnInit(){this.router.events.pipe((0,p.h)(e=>e instanceof D.OD),(0,U.R)(this._destroy$)).subscribe(()=>{this.elementRef.nativeElement.innerHTML=""}),this.router.events.pipe((0,p.h)(e=>e instanceof D.m2),(0,U.R)(this._destroy$)).subscribe(()=>{this.generateComment()})}ngAfterViewInit(){this.generateComment()}ngOnDestroy(){this._destroy$.next(null),this._destroy$.complete()}generateComment(){if(!this.deviceSrv.isClient)return;let e;const h=this.elementRef.nativeElement;this.darkMode$.pipe((0,U.R)(this._destroy$)).subscribe(b=>{e&&h.removeChild(e),e=document.createElement("script"),e.setAttribute("src","https://giscus.app/client.js"),e.setAttribute("data-repo","pzps94038/RonWeb"),e.setAttribute("data-repo-id","R_kgDOJU7i_Q"),e.setAttribute("data-category","Announcements"),e.setAttribute("data-category-id","DIC_kwDOJU7i_c4CWkJZ"),e.setAttribute("data-mapping","title"),e.setAttribute("data-reactions-enabled","1"),e.setAttribute("data-emit-metadata","0"),e.setAttribute("data-theme",b?"dark_tritanopia":"light_tritanopia"),e.setAttribute("data-lang","zh-TW"),e.setAttribute("data-loading","lazy"),e.setAttribute("crossorigin","anonymous"),e.setAttribute("async",""),h.appendChild(e)})}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-giscus"]],standalone:!0,features:[t.jDz],decls:0,vars:0,template:function(e,h){},dependencies:[A.ez],encapsulation:2}),s})();const m=function(s){return["blog","category",s]};function Z(s,d){if(1&s&&(t.ynx(0),t.TgZ(1,"div")(2,"h3",4),t._uU(3),t.qZA(),t.TgZ(4,"div")(5,"div",5),t._UZ(6,"ng-icon",6),t.TgZ(7,"h4"),t._uU(8),t.ALo(9,"dayJs"),t.qZA()(),t.TgZ(10,"a",7),t._UZ(11,"ng-icon",8),t.TgZ(12,"h5"),t._uU(13),t.qZA()()()(),t._UZ(14,"div",9)(15,"div",10),t.ALo(16,"safe"),t._UZ(17,"div",11)(18,"div",10),t.ALo(19,"safe"),t._UZ(20,"div",12)(21,"app-giscus"),t.BQk()),2&s){const e=t.oxw(2);t.xp6(3),t.Oqu(e.article().articleTitle),t.xp6(5),t.Oqu(t.xi3(9,6,e.article().createDate,"YYYY/MM/DD hh:mm")),t.xp6(2),t.Q6J("routerLink",t.VKq(15,m,e.article().categoryId)),t.xp6(3),t.Oqu(e.article().categoryName),t.xp6(2),t.Q6J("innerHTML",t.xi3(16,9,e.article().previewContent,"html"),t.oJD),t.xp6(3),t.Q6J("innerHTML",t.xi3(19,12,e.article().content,"html"),t.oJD)}}function P(s,d){if(1&s&&(t.ynx(0),t.YNc(1,Z,22,17,"ng-container",1),t.BQk()),2&s){const e=t.oxw(),h=t.MAs(3);t.xp6(1),t.Q6J("ngIf",!e.isLoading()&&e.article())("ngIfElse",h)}}function o(s,d){1&s&&(t.TgZ(0,"div",5),t._UZ(1,"div",15),t.qZA())}function i(s,d){1&s&&t._UZ(0,"div",16)}const n=function(){return[1,2]},a=function(){return[1,2,3,4,5,6,7,8,9,10]};function r(s,d){1&s&&(t.TgZ(0,"div"),t.YNc(1,o,2,0,"div",13),t.qZA(),t._UZ(2,"div",9),t.TgZ(3,"div"),t.YNc(4,i,1,0,"div",14),t.qZA()),2&s&&(t.xp6(1),t.Q6J("ngForOf",t.DdM(2,n)),t.xp6(3),t.Q6J("ngForOf",t.DdM(3,a)))}function l(s,d){if(1&s){const e=t.EpF();t.TgZ(0,"app-error",17),t.NdJ("refresh",function(){t.CHM(e);const b=t.oxw();return t.KtG(b.getArticleById(b.articleId()))}),t.qZA()}}let u=(()=>{class s{constructor(){this.articleSrv=(0,t.f3M)(g.n),this.route=(0,t.f3M)(D.gz),this.sharedSrv=(0,t.f3M)(N.F),this.router=(0,t.f3M)(D.F0),this.url=(0,t.tdS)(""),this.shortname=E.N.shortname,this.articleId=(0,t.tdS)(""),this.article=(0,t.tdS)(void 0),this.isLoading=(0,t.tdS)(!1),this.isError=(0,t.tdS)(!1),this._destroyRef=(0,t.f3M)(t.ktI)}ngOnInit(){this.route.paramMap.pipe((0,p.h)(e=>!!e.get("id")),(0,y.U)(e=>e.get("id")),(0,f.b)(e=>this.articleId.set(e)),(0,f.b)(()=>this.url.set(location.href)),(0,v.sL)(this._destroyRef)).subscribe(e=>this.getArticleById(e))}getArticleById(e){this.articleSrv.getArticleById(e).pipe((0,f.b)(()=>this.isLoading.set(!0)),(0,M.K)(h=>{throw this.isError.set(!0),h}),(0,R.x)(()=>this.isLoading.set(!1)),(0,v.sL)(this._destroyRef)).subscribe(h=>{if(this.sharedSrv.ifSuccess(h,!1)){const{data:b}=h;this.article.set(b)}else h.returnCode===x.N.NotFound?this.router.navigate(["blog","notFound"]):this.isError.set(!0)})}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275cmp=t.Xpm({type:s,selectors:[["app-article"]],standalone:!0,features:[t._Bn([(0,H.kp)({heroCalendarDays:Y.mVh,heroHashtag:Y.u2C,heroTag:Y.PRH})]),t.jDz],decls:6,vars:2,consts:[[1,"bg-base-100","border","border-base-content/10","text-base-content","rounded-md","mx-0","md:mx-5","p-5","mb-5"],[4,"ngIf","ngIfElse"],["loading",""],["error",""],[1,"text-xl","font-semibold"],[1,"flex","items-center"],["name","heroCalendarDays"],[1,"flex","items-center","link","link-secondary",3,"routerLink"],["name","heroHashtag"],[1,"divider","my-1"],[1,"ck-content",3,"innerHTML"],[1,"py-5"],[1,"divider","my-5"],["class","flex items-center",4,"ngFor","ngForOf"],["class","h-5 my-3 w-full rounded-lg bg-slate-300/10 relative before:absolute before:inset-0 before:-translate-x-full before:animate-[shimmer_2s_infinite] before:border-t before:border-slate-300/10 before:bg-gradient-to-r before:from-transparent before:bg-slate-300/10 before:to-transparent overflow-hidden",4,"ngFor","ngForOf"],[1,"h-5","my-2","w-full","rounded-lg","bg-slate-300/10","relative","before:absolute","before:inset-0","before:-translate-x-full","before:animate-[shimmer_2s_infinite]","before:border-t","before:border-slate-300/10","before:bg-gradient-to-r","before:from-transparent","before:bg-slate-300/10","before:to-transparent","overflow-hidden"],[1,"h-5","my-3","w-full","rounded-lg","bg-slate-300/10","relative","before:absolute","before:inset-0","before:-translate-x-full","before:animate-[shimmer_2s_infinite]","before:border-t","before:border-slate-300/10","before:bg-gradient-to-r","before:from-transparent","before:bg-slate-300/10","before:to-transparent","overflow-hidden"],[3,"refresh"]],template:function(e,h){if(1&e&&(t.TgZ(0,"div",0),t.YNc(1,P,2,2,"ng-container",1),t.YNc(2,r,5,4,"ng-template",null,2,t.W1O),t.YNc(4,l,1,0,"ng-template",null,3,t.W1O),t.qZA()),2&e){const b=t.MAs(5);t.xp6(1),t.Q6J("ngIf",!h.isError())("ngIfElse",b)}},dependencies:[A.ez,A.sg,A.O5,j.q,H.Fv,J.g,D.rH,z.y,$]}),s})()},8884:(w,O,c)=>{"use strict";c.d(O,{n:()=>v});var t=c(3144),A=c(3020),g=c(2340);let v=(()=>{class p{constructor(){this.http=(0,A.f3M)(t.eN)}getArticle(f){if(f){const M=(new t.LE).append("page",f);return this.http.get(`${g.N.baseUrl}/article`,{params:M})}return this.http.get(`${g.N.baseUrl}/article`)}getArticleById(f){return this.http.get(`${g.N.baseUrl}/article/${f}`)}createArticle(f){return this.http.post(`${g.N.baseUrl}/article`,f)}updateArticle(f){return this.http.patch(`${g.N.baseUrl}/article/${f.articleId}`,f)}deleteArticle(f){return this.http.delete(`${g.N.baseUrl}/article/${f}`)}updateArticleViews(f){return this.http.patch(`${g.N.baseUrl}/article/updateArticleViews/${f}`,{})}}return p.\u0275fac=function(f){return new(f||p)},p.\u0275prov=A.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})()},3772:(w,O,c)=>{"use strict";c.d(O,{q:()=>g});var t=c(3020),A=c(1730);let g=(()=>{class v{constructor(){this.errorOptions={path:"assets/lottie/error-404.json"},this.refreshEmitter=new t.vpe}}return v.\u0275fac=function(y){return new(y||v)},v.\u0275cmp=t.Xpm({type:v,selectors:[["app-error"]],outputs:{refreshEmitter:"refresh"},standalone:!0,features:[t.jDz],decls:5,vars:1,consts:[[3,"options"],[1,"flex","justify-center","items-center"],[1,"btn","btn-warning",3,"click"]],template:function(y,f){1&y&&(t.TgZ(0,"div"),t._UZ(1,"ng-lottie",0),t.TgZ(2,"div",1)(3,"button",2),t.NdJ("click",function(){return f.refreshEmitter.emit(!0)}),t._uU(4,"\u91cd\u65b0\u6574\u7406"),t.qZA()()()),2&y&&(t.xp6(1),t.Q6J("options",f.errorOptions))},dependencies:[A.r]}),v})()},3665:(w,O,c)=>{"use strict";c.d(O,{g:()=>v});var t=c(1764),g=c(3020);let v=(()=>{class p{transform(f,M){return t(f).format(M)}}return p.\u0275fac=function(f){return new(f||p)},p.\u0275pipe=g.Yjl({name:"dayJs",type:p,pure:!0,standalone:!0}),p})()},1764:function(w){w.exports=function(){"use strict";var c=6e4,t=36e5,A="millisecond",g="second",v="minute",p="hour",y="day",f="week",M="month",R="quarter",D="year",x="date",N="Invalid Date",j=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,H=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,Y={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(o){var i=["th","st","nd","rd"],n=o%100;return"["+o+(i[(n-20)%10]||i[n]||i[0])+"]"}},J=function(o,i,n){var a=String(o);return!a||a.length>=i?o:""+Array(i+1-a.length).join(n)+o},z={s:J,z:function(o){var i=-o.utcOffset(),n=Math.abs(i),a=Math.floor(n/60),r=n%60;return(i<=0?"+":"-")+J(a,2,"0")+":"+J(r,2,"0")},m:function o(i,n){if(i.date()<n.date())return-o(n,i);var a=12*(n.year()-i.year())+(n.month()-i.month()),r=i.clone().add(a,M),l=n-r<0,u=i.clone().add(a+(l?-1:1),M);return+(-(a+(n-r)/(l?r-u:u-r))||0)},a:function(o){return o<0?Math.ceil(o)||0:Math.floor(o)},p:function(o){return{M,y:D,w:f,d:y,D:x,h:p,m:v,s:g,ms:A,Q:R}[o]||String(o||"").toLowerCase().replace(/s$/,"")},u:function(o){return void 0===o}},E="en",C={};C[E]=Y;var U=function(o){return o instanceof Z},I=function o(i,n,a){var r;if(!i)return E;if("string"==typeof i){var l=i.toLowerCase();C[l]&&(r=l),n&&(C[l]=n,r=l);var u=i.split("-");if(!r&&u.length>1)return o(u[0])}else{var s=i.name;C[s]=i,r=s}return!a&&r&&(E=r),r||!a&&E},$=function(o,i){if(U(o))return o.clone();var n="object"==typeof i?i:{};return n.date=o,n.args=arguments,new Z(n)},m=z;m.l=I,m.i=U,m.w=function(o,i){return $(o,{locale:i.$L,utc:i.$u,x:i.$x,$offset:i.$offset})};var Z=function(){function o(n){this.$L=I(n.locale,null,!0),this.parse(n)}var i=o.prototype;return i.parse=function(n){this.$d=function(a){var r=a.date,l=a.utc;if(null===r)return new Date(NaN);if(m.u(r))return new Date;if(r instanceof Date)return new Date(r);if("string"==typeof r&&!/Z$/i.test(r)){var u=r.match(j);if(u){var s=u[2]-1||0,d=(u[7]||"0").substring(0,3);return l?new Date(Date.UTC(u[1],s,u[3]||1,u[4]||0,u[5]||0,u[6]||0,d)):new Date(u[1],s,u[3]||1,u[4]||0,u[5]||0,u[6]||0,d)}}return new Date(r)}(n),this.$x=n.x||{},this.init()},i.init=function(){var n=this.$d;this.$y=n.getFullYear(),this.$M=n.getMonth(),this.$D=n.getDate(),this.$W=n.getDay(),this.$H=n.getHours(),this.$m=n.getMinutes(),this.$s=n.getSeconds(),this.$ms=n.getMilliseconds()},i.$utils=function(){return m},i.isValid=function(){return this.$d.toString()!==N},i.isSame=function(n,a){var r=$(n);return this.startOf(a)<=r&&r<=this.endOf(a)},i.isAfter=function(n,a){return $(n)<this.startOf(a)},i.isBefore=function(n,a){return this.endOf(a)<$(n)},i.$g=function(n,a,r){return m.u(n)?this[a]:this.set(r,n)},i.unix=function(){return Math.floor(this.valueOf()/1e3)},i.valueOf=function(){return this.$d.getTime()},i.startOf=function(n,a){var r=this,l=!!m.u(a)||a,u=m.p(n),s=function(L,_){var T=m.w(r.$u?Date.UTC(r.$y,_,L):new Date(r.$y,_,L),r);return l?T:T.endOf(y)},d=function(L,_){return m.w(r.toDate()[L].apply(r.toDate("s"),(l?[0,0,0,0]:[23,59,59,999]).slice(_)),r)},e=this.$W,h=this.$M,b=this.$D,S="set"+(this.$u?"UTC":"");switch(u){case D:return l?s(1,0):s(31,11);case M:return l?s(1,h):s(0,h+1);case f:var W=this.$locale().weekStart||0,F=(e<W?e+7:e)-W;return s(l?b-F:b+(6-F),h);case y:case x:return d(S+"Hours",0);case p:return d(S+"Minutes",1);case v:return d(S+"Seconds",2);case g:return d(S+"Milliseconds",3);default:return this.clone()}},i.endOf=function(n){return this.startOf(n,!1)},i.$set=function(n,a){var r,l=m.p(n),u="set"+(this.$u?"UTC":""),s=(r={},r[y]=u+"Date",r[x]=u+"Date",r[M]=u+"Month",r[D]=u+"FullYear",r[p]=u+"Hours",r[v]=u+"Minutes",r[g]=u+"Seconds",r[A]=u+"Milliseconds",r)[l],d=l===y?this.$D+(a-this.$W):a;if(l===M||l===D){var e=this.clone().set(x,1);e.$d[s](d),e.init(),this.$d=e.set(x,Math.min(this.$D,e.daysInMonth())).$d}else s&&this.$d[s](d);return this.init(),this},i.set=function(n,a){return this.clone().$set(n,a)},i.get=function(n){return this[m.p(n)]()},i.add=function(n,a){var r,l=this;n=Number(n);var u=m.p(a),s=function(h){var b=$(l);return m.w(b.date(b.date()+Math.round(h*n)),l)};if(u===M)return this.set(M,this.$M+n);if(u===D)return this.set(D,this.$y+n);if(u===y)return s(1);if(u===f)return s(7);var d=(r={},r[v]=c,r[p]=t,r[g]=1e3,r)[u]||1,e=this.$d.getTime()+n*d;return m.w(e,this)},i.subtract=function(n,a){return this.add(-1*n,a)},i.format=function(n){var a=this,r=this.$locale();if(!this.isValid())return r.invalidDate||N;var l=n||"YYYY-MM-DDTHH:mm:ssZ",u=m.z(this),s=this.$H,d=this.$m,e=this.$M,h=r.weekdays,b=r.months,S=function(_,T,Q,B){return _&&(_[T]||_(a,l))||Q[T].slice(0,B)},W=function(_){return m.s(s%12||12,_,"0")},F=r.meridiem||function(_,T,Q){var B=_<12?"AM":"PM";return Q?B.toLowerCase():B},L={YY:String(this.$y).slice(-2),YYYY:this.$y,M:e+1,MM:m.s(e+1,2,"0"),MMM:S(r.monthsShort,e,b,3),MMMM:S(b,e),D:this.$D,DD:m.s(this.$D,2,"0"),d:String(this.$W),dd:S(r.weekdaysMin,this.$W,h,2),ddd:S(r.weekdaysShort,this.$W,h,3),dddd:h[this.$W],H:String(s),HH:m.s(s,2,"0"),h:W(1),hh:W(2),a:F(s,d,!0),A:F(s,d,!1),m:String(d),mm:m.s(d,2,"0"),s:String(this.$s),ss:m.s(this.$s,2,"0"),SSS:m.s(this.$ms,3,"0"),Z:u};return l.replace(H,function(_,T){return T||L[_]||u.replace(":","")})},i.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},i.diff=function(n,a,r){var l,u=m.p(a),s=$(n),d=(s.utcOffset()-this.utcOffset())*c,e=this-s,h=m.m(this,s);return h=(l={},l[D]=h/12,l[M]=h,l[R]=h/3,l[f]=(e-d)/6048e5,l[y]=(e-d)/864e5,l[p]=e/t,l[v]=e/c,l[g]=e/1e3,l)[u]||e,r?h:m.a(h)},i.daysInMonth=function(){return this.endOf(M).$D},i.$locale=function(){return C[this.$L]},i.locale=function(n,a){if(!n)return this.$L;var r=this.clone(),l=I(n,a,!0);return l&&(r.$L=l),r},i.clone=function(){return m.w(this.$d,this)},i.toDate=function(){return new Date(this.valueOf())},i.toJSON=function(){return this.isValid()?this.toISOString():null},i.toISOString=function(){return this.$d.toISOString()},i.toString=function(){return this.$d.toUTCString()},o}(),P=Z.prototype;return $.prototype=P,[["$ms",A],["$s",g],["$m",v],["$H",p],["$W",y],["$M",M],["$y",D],["$D",x]].forEach(function(o){P[o[1]]=function(i){return this.$g(i,o[0],o[1])}}),$.extend=function(o,i){return o.$i||(o(i,Z,$),o.$i=!0),$},$.locale=I,$.isDayjs=U,$.unix=function(o){return $(1e3*o)},$.en=C[E],$.Ls=C,$.p={},$}()}}]);