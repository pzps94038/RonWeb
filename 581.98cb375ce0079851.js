"use strict";(self.webpackChunkRonWeb=self.webpackChunkRonWeb||[]).push([[581],{8581:(g,l,t)=>{t.r(l),t.d(l,{ArticleCategoryCreateComponent:()=>d});var e=t(9416),i=t(4755),n=t(5855),a=t(9401),c=t(9300),E=t(3900),s=t(8746),u=t(6274),r=t(9096),_=t(1415),v=t(6355),o=t(7929),M=t(4052);let d=(()=>{class y{constructor(){this.apiSrv=(0,e.f3M)(o.s),this.userSrv=(0,e.f3M)(M.K),this.swalSrv=(0,e.f3M)(r.J),this.articleCategorySrv=(0,e.f3M)(u.h),this.router=(0,e.f3M)(_.F0),this.isLoading=(0,e.tdS)(!1),this._destroyRef=(0,e.f3M)(e.ktI),this.form=new a.cw({categoryName:new a.NI("",[a.kI.required])})}submit(){if(this.form.markAllAsTouched(),!this.form.valid)return;const f={categoryName:this.form.get("categoryName").value,userId:this.userSrv.getUserId()};this.isLoading.set(!0),this.articleCategorySrv.createArticleCategory(f).pipe((0,c.h)(C=>this.apiSrv.ifSuccess(C)),(0,E.w)(({returnMessage:C})=>this.swalSrv.alert({icon:r.u.Success,text:C})),(0,s.x)(()=>this.isLoading.set(!1)),(0,n.sL)(this._destroyRef)).subscribe(()=>{this.router.navigate(["/setting/article-category"])})}}return y.\u0275fac=function(f){return new(f||y)},y.\u0275cmp=e.Xpm({type:y,selectors:[["app-article-category-create"]],standalone:!0,features:[e.jDz],decls:6,vars:4,consts:[[3,"formGroup","ngSubmit"],[1,"my-5"],["labelName","\u5206\u985e","labelClass","text-lg my-2 text-center md:text-left","placeholder","\u8acb\u8f38\u5165\u5206\u985e","formControlName","categoryName",1,"w-full"],[1,"flex","justify-end","items-center"],["type","submit",1,"btn","btn-primary",3,"disabled"]],template:function(f,C){1&f&&(e.TgZ(0,"form",0),e.NdJ("ngSubmit",function(){return C.submit()}),e.TgZ(1,"div",1),e._UZ(2,"app-input",2),e.qZA(),e.TgZ(3,"div",3)(4,"button",4),e._uU(5," \u65b0\u589e\u5206\u985e "),e.qZA()()()),2&f&&(e.Q6J("formGroup",C.form),e.xp6(4),e.ekj("loading",C.isLoading()),e.Q6J("disabled",C.isLoading()))},dependencies:[i.ez,v.a,a.UX,a._Y,a.JJ,a.JL,a.sg,a.u]}),y})()},6274:(g,l,t)=>{t.d(l,{h:()=>E});var e=t(3144),i=t(9416),n=t(2340),a=t(4782),c=t(681);let E=(()=>{class s{constructor(){this.http=(0,i.f3M)(e.eN),this.transferSrv=(0,i.f3M)(c.Z),this.articleCategoryMap=new Map,this.articleCategoryByIdMap=new Map}getArticleCategory(r,_=!0){return this.transferSrv.transfer(`categoryList-${r}`,()=>{if(_&&this.articleCategoryMap.has(r))return this.articleCategoryMap.get(r);const o=r?(new e.LE).append("page",r):void 0,M=this.http.get(`${n.N.baseUrl}/articleCategory`,{params:o}).pipe((0,a.d)());return this.articleCategoryMap.set(r,M),M},_)}getArticleCategoryById(r,_=!0){return this.transferSrv.transfer(`category-${r}`,()=>{if(_&&this.articleCategoryByIdMap.has(r))return this.articleCategoryByIdMap.get(r);const o=this.http.get(`${n.N.baseUrl}/articleCategory/${r}`).pipe((0,a.d)());return this.articleCategoryByIdMap.set(r,o),o},_)}updateArticleCategory(r){return this.http.patch(`${n.N.baseUrl}/articleCategory/${r.categoryId}`,r)}createArticleCategory(r){return this.http.post(`${n.N.baseUrl}/articleCategory`,r)}deleteArticleCategory(r){return this.http.delete(`${n.N.baseUrl}/articleCategory/${r}`)}}return s.\u0275fac=function(r){return new(r||s)},s.\u0275prov=i.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})()},681:(g,l,t)=>{t.d(l,{Z:()=>E});var e=t(9416),i=t(928),n=t(9646),a=t(8505),c=t(4782);let E=(()=>{class s{constructor(){this.transferState=(0,e.f3M)(e.kie),this.deviceSrv=(0,e.f3M)(i.U)}transfer(r,_,v=!0){const o=(0,e.Cb6)(r);if(this.transferState.hasKey(o)&&v){const M=this.transferState.get(o,void 0);return(0,n.of)(M)}return _().pipe((0,a.b)(d=>{this.deviceSrv.isServer&&this.transferState.set(o,d)}),(0,c.d)())}}return s.\u0275fac=function(r){return new(r||s)},s.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})()},4782:(g,l,t)=>{t.d(l,{d:()=>n});var e=t(4707),i=t(3099);function n(a,c,E){let s,u=!1;return a&&"object"==typeof a?({bufferSize:s=1/0,windowTime:c=1/0,refCount:u=!1,scheduler:E}=a):s=null!=a?a:1/0,(0,i.B)({connector:()=>new e.t(s,c,E),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:u})}}}]);