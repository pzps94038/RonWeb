"use strict";(self.webpackChunkRonWeb=self.webpackChunkRonWeb||[]).push([[644],{5658:(B,u,t)=>{t.r(u),t.d(u,{CodeCreateComponent:()=>g});var e=t(9416),E=t(4755),i=t(5855),n=t(1415),c=t(9300),p=t(3900),C=t(8746),_=t(9096),f=t(2993),l=t(5249),v=t(7929),h=t(6737),o=t(9401),I=t(4052),D=t(6355),M=t(358);let g=(()=>{class r{constructor(){this.route=(0,e.f3M)(n.gz),this.apiSrv=(0,e.f3M)(v.s),this.userSrv=(0,e.f3M)(I.K),this.swalSrv=(0,e.f3M)(_.J),this.adminCodeSrv=(0,e.f3M)(h.c),this.adminCodeTypeSrv=(0,e.f3M)(M.B),this.router=(0,e.f3M)(n.F0),this.isLoading=(0,e.tdS)(!1),this._destroyRef=(0,e.f3M)(e.ktI),this.form=new o.cw({codeTypeId:new o.NI({value:"",disabled:!0},[o.kI.required]),codeTypeName:new o.NI({value:"",disabled:!0},[o.kI.required]),codeId:new o.NI("",[o.kI.required]),codeName:new o.NI("",[o.kI.required])})}ngOnInit(){this.route.paramMap.pipe((0,i.sL)(this._destroyRef)).subscribe(a=>{var s,d;const T=a.get("code-type-id");this.form.get("codeTypeId").setValue(T),this.form.get("codeTypeName").setValue(null===(s=history)||void 0===s||null===(d=s.state)||void 0===d?void 0:d.codeTypeName)})}submit(){if(this.form.markAllAsTouched(),this.form.invalid)return;const a={codeTypeId:this.form.get("codeTypeId").value,codeId:this.form.get("codeId").value,codeName:this.form.get("codeName").value,userId:this.userSrv.getUserId()};this.isLoading.set(!0),this.adminCodeSrv.createAdminCode(a).pipe((0,c.h)(s=>this.apiSrv.ifSuccess(s)),(0,p.w)(({returnMessage:s})=>this.swalSrv.alert({icon:_.u.Success,text:s})),(0,C.x)(()=>this.isLoading.set(!1)),(0,i.sL)(this._destroyRef)).subscribe(()=>this.router.navigate([`/setting/code-type/${this.form.get("codeTypeId").value}`]))}}return r.\u0275fac=function(a){return new(a||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-code-create"]],standalone:!0,features:[e._Bn([(0,f.kp)({heroPencilSquare:l.yUl,heroTrash:l.ciC})]),e.jDz],decls:12,vars:4,consts:[[3,"formGroup","ngSubmit"],[1,"my-5"],["labelName","\u4ee3\u78bc\u985e\u578bID","labelClass","text-lg my-2 text-center md:text-left","placeholder","\u8acb\u8f38\u5165\u4ee3\u78bc\u985e\u578bID","formControlName","codeTypeId",1,"w-full"],["labelName","\u4ee3\u78bc\u985e\u578b\u540d\u7a31","labelClass","text-lg my-2 text-center md:text-left","placeholder","\u8acb\u8f38\u5165\u4ee3\u78bc\u985e\u578b\u540d\u7a31","formControlName","codeTypeName",1,"w-full"],["labelName","\u4ee3\u78bcID","labelClass","text-lg my-2 text-center md:text-left","placeholder","\u8acb\u8f38\u5165\u4ee3\u78bcID","formControlName","codeId",1,"w-full"],["labelName","\u4ee3\u78bc\u540d\u7a31","labelClass","text-lg my-2 text-center md:text-left","placeholder","\u8acb\u8f38\u5165\u4ee3\u78bc\u540d\u7a31","formControlName","codeName",1,"w-full"],[1,"flex","justify-end","items-center"],["type","submit",1,"btn","btn-primary",3,"disabled"]],template:function(a,s){1&a&&(e.TgZ(0,"form",0),e.NdJ("ngSubmit",function(){return s.submit()}),e.TgZ(1,"div",1),e._UZ(2,"app-input",2),e.qZA(),e.TgZ(3,"div",1),e._UZ(4,"app-input",3),e.qZA(),e.TgZ(5,"div",1),e._UZ(6,"app-input",4),e.qZA(),e.TgZ(7,"div",1),e._UZ(8,"app-input",5),e.qZA(),e.TgZ(9,"div",6)(10,"button",7),e._uU(11," \u65b0\u589e\u4ee3\u78bc "),e.qZA()()()),2&a&&(e.Q6J("formGroup",s.form),e.xp6(10),e.ekj("loading",s.isLoading()),e.Q6J("disabled",s.isLoading()))},dependencies:[E.ez,D.a,o.UX,o._Y,o.JJ,o.JL,o.sg,o.u]}),r})()}}]);