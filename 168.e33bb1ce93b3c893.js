"use strict";(self.webpackChunkRonWeb=self.webpackChunkRonWeb||[]).push([[168],{6168:(f,u,e)=>{e.r(u),e.d(u,{LoginComponent:()=>M});var d=e(508),t=e(3020),c=e(4755),s=e(9128),n=e(5030),i=e(9589),m=e(1730),v=e(3144),h=e(2340);let x=(()=>{class r{constructor(){this.http=(0,t.f3M)(v.eN)}login(o){return this.http.post(`${h.N.baseUrl}/login`,o)}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=t.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();var y=e(3500),Z=e(262),p=e(2993),C=e(5249);function S(r,l){if(1&r){const o=t.EpF();t.TgZ(0,"div",12)(1,"div",13)(2,"span",14),t._uU(3),t.qZA()(),t.TgZ(4,"ng-icon",15),t.NdJ("click",function(){t.CHM(o);const g=t.oxw();return t.KtG(g.errMsg.set(""))}),t.qZA()()}if(2&r){const o=t.oxw();t.xp6(3),t.Oqu(o.errMsg())}}let M=(()=>{class r{constructor(){this.loginSrv=(0,t.f3M)(x),this.sharedSrv=(0,t.f3M)(y.F),this.errMsg=(0,t.tdS)(void 0),this._destroyRef=(0,t.f3M)(t.ktI),this.form=new n.cw({account:new n.NI("",[n.kI.required]),password:new n.NI("",[n.kI.required])}),this.loginOptions={path:"assets/lottie/login.json"}}get account(){return this.form.get("account")}get password(){return this.form.get("password")}submit(){this.form.markAllAsTouched(),this.form.valid&&this.loginSrv.login({account:this.account.value,password:this.password.value}).pipe((0,Z.K)(o=>{throw this.errMsg.set("\u7cfb\u7d71\u767c\u751f\u932f\u8aa4"),o}),(0,d.sL)(this._destroyRef)).subscribe(o=>{if(!this.sharedSrv.ifSuccess(o)){const{returnMessage:a}=o;this.errMsg.set(a)}})}}return r.\u0275fac=function(o){return new(o||r)},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-login"]],standalone:!0,features:[t._Bn([(0,p.kp)({heroXMark:C.CZj})]),t.jDz],decls:17,vars:3,consts:[[1,"bg-banner","bg-cover","bg-fixed","h-screen","flex","justify-center","items-center"],[1,"bg-slate-800","rounded-md","mt-20","md:mt-0","mx-5"],[1,"text-center","text-3xl","font-semibold","my-3"],[1,"w-60","mx-auto"],[3,"options"],[1,"flex","flex-wrap","items-center","w-full","sm:w-[500px]",3,"formGroup","ngSubmit"],[1,"w-full","px-3","my-2"],["class","alert alert-error shadow-lg border-2 bg-rose-800/[0.1] border-rose-900 relative py-5",4,"ngIf"],["placeholder","\u8acb\u8f38\u5165\u5e33\u865f","formControlName","account",1,"w-full"],["type","password","placeholder","\u8acb\u8f38\u5165\u5bc6\u78bc","formControlName","password",1,"w-full"],[1,"w-full","flex","justify-center","items-center"],["type","submit",1,"btn","btn-primary","my-3","px-8"],[1,"alert","alert-error","shadow-lg","border-2","bg-rose-800/[0.1]","border-rose-900","relative","py-5"],[1,"absolute","left-5","top-2"],[1,"text-base","font-semibold","text-rose-900"],["name","heroXMark",1,"cursor-pointer","absolute","right-5","top-1","text-rose-900",3,"click"]],template:function(o,a){1&o&&(t._UZ(0,"app-header"),t.TgZ(1,"div",0)(2,"div",1)(3,"h3",2),t._uU(4,"\u767b\u5165"),t.qZA(),t.TgZ(5,"div",3),t._UZ(6,"ng-lottie",4),t.qZA(),t.TgZ(7,"form",5),t.NdJ("ngSubmit",function(){return a.submit()}),t.TgZ(8,"div",6),t.YNc(9,S,5,1,"div",7),t.qZA(),t.TgZ(10,"div",6),t._UZ(11,"app-input",8),t.qZA(),t.TgZ(12,"div",6),t._UZ(13,"app-input",9),t.qZA(),t.TgZ(14,"div",10)(15,"button",11),t._uU(16,"\u767b\u5165"),t.qZA()()()()()),2&o&&(t.xp6(6),t.Q6J("options",a.loginOptions),t.xp6(1),t.Q6J("formGroup",a.form),t.xp6(2),t.Q6J("ngIf",a.errMsg()))},dependencies:[c.ez,c.O5,s.a,n.UX,n._Y,n.JJ,n.JL,n.sg,n.u,i.G,m.r,p.Fv]}),r})()},3500:(f,u,e)=>{e.d(u,{F:()=>c});var d=e(9415),t=e(3020);let c=(()=>{class s{ifSuccess(i){return i.returnCode===d.N.Success}emptyValidator(){return i=>(i?.value??"").trim().length?null:{empty:{value:i.value}}}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275prov=t.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})()}}]);