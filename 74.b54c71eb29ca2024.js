"use strict";(self.webpackChunkRonWeb=self.webpackChunkRonWeb||[]).push([[74],{2074:(h,c,e)=>{e.r(c),e.d(c,{ArticleLabelCreateComponent:()=>p});var t=e(2223),i=e(4755),a=e(9401),l=e(6355),_=e(9096),E=e(3262),s=e(5855),u=e(9300),r=e(3900),o=e(8746),M=e(1514),n=e(7929),f=e(4052);let p=(()=>{class L{constructor(){this.apiSrv=(0,t.f3M)(n.s),this.userSrv=(0,t.f3M)(f.K),this.swalSrv=(0,t.f3M)(_.J),this.articleLabelSrv=(0,t.f3M)(M.F),this.router=(0,t.f3M)(E.F0),this.isLoading=(0,t.tdS)(!1),this._destroyRef=(0,t.f3M)(t.ktI),this.form=new a.cw({labelName:new a.NI("",[a.kI.required])})}submit(){if(this.form.markAllAsTouched(),!this.form.valid)return;const d={labelName:this.form.get("labelName").value,userId:this.userSrv.getUserId()};this.isLoading.set(!0),this.articleLabelSrv.createArticleLabel(d).pipe((0,u.h)(v=>this.apiSrv.ifSuccess(v)),(0,r.w)(({returnMessage:v})=>this.swalSrv.alert({icon:_.u.Success,text:v})),(0,o.x)(()=>this.isLoading.set(!1)),(0,s.sL)(this._destroyRef)).subscribe(()=>{this.router.navigate(["/setting/article-label"])})}}return L.\u0275fac=function(d){return new(d||L)},L.\u0275cmp=t.Xpm({type:L,selectors:[["app-article-label-create"]],standalone:!0,features:[t.jDz],decls:6,vars:4,consts:[[3,"formGroup","ngSubmit"],[1,"my-5"],["labelName","\u6a19\u7c64","labelClass","text-lg my-2 text-center md:text-left","placeholder","\u8acb\u8f38\u5165\u6a19\u7c64","formControlName","labelName",1,"w-full"],[1,"flex","justify-end","items-center"],["type","submit",1,"btn","btn-primary",3,"disabled"]],template:function(d,v){1&d&&(t.TgZ(0,"form",0),t.NdJ("ngSubmit",function(){return v.submit()}),t.TgZ(1,"div",1),t._UZ(2,"app-input",2),t.qZA(),t.TgZ(3,"div",3)(4,"button",4),t._uU(5," \u65b0\u589e\u6a19\u7c64 "),t.qZA()()()),2&d&&(t.Q6J("formGroup",v.form),t.xp6(4),t.ekj("loading",v.isLoading()),t.Q6J("disabled",v.isLoading()))},dependencies:[i.ez,l.a,a.UX,a._Y,a.JJ,a.JL,a.sg,a.u]}),L})()},1514:(h,c,e)=>{e.d(c,{F:()=>E});var t=e(3144),i=e(2223),a=e(2340),l=e(4782),_=e(681);let E=(()=>{class s{constructor(){this.http=(0,i.f3M)(t.eN),this.transferSrv=(0,i.f3M)(_.Z),this.articleLabelMap=new Map,this.articleLabelByIdMap=new Map}getArticleLabel(r,o=!0){return this.transferSrv.transfer(`labelList-${r}`,()=>{if(o&&this.articleLabelMap.has(r))return this.articleLabelMap.get(r);const n=r?(new t.LE).append("page",r):void 0,f=this.http.get(`${a.N.baseUrl}/articleLabel`,{params:n}).pipe((0,l.d)());return this.articleLabelMap.set(r,f),f},o)}getArticleLabelById(r,o=!0){return this.transferSrv.transfer(`label-${r}`,()=>{if(o&&this.articleLabelByIdMap.has(r))return this.articleLabelByIdMap.get(r);const n=this.http.get(`${a.N.baseUrl}/articleLabel/${r}`).pipe((0,l.d)());return this.articleLabelByIdMap.set(r,n),n},o)}updateArticleLabel(r){return this.http.patch(`${a.N.baseUrl}/articleLabel/${r.labelId}`,r)}createArticleLabel(r){return this.http.post(`${a.N.baseUrl}/articleLabel`,r)}deleteArticleLabel(r){return this.http.delete(`${a.N.baseUrl}/articleLabel/${r}`)}}return s.\u0275fac=function(r){return new(r||s)},s.\u0275prov=i.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})()},681:(h,c,e)=>{e.d(c,{Z:()=>E});var t=e(2223),i=e(928),a=e(9646),l=e(8505),_=e(4782);let E=(()=>{class s{constructor(){this.transferState=(0,t.f3M)(t.kie),this.deviceSrv=(0,t.f3M)(i.U)}transfer(r,o,M=!0){const n=(0,t.Cb6)(r);if(this.transferState.hasKey(n)&&M){const f=this.transferState.get(n,void 0);return(0,a.of)(f)}return o().pipe((0,l.b)(p=>{this.deviceSrv.isServer&&this.transferState.set(n,p)}),(0,_.d)())}}return s.\u0275fac=function(r){return new(r||s)},s.\u0275prov=t.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})()},4782:(h,c,e)=>{e.d(c,{d:()=>a});var t=e(4707),i=e(3099);function a(l,_,E){let s,u=!1;return l&&"object"==typeof l?({bufferSize:s=1/0,windowTime:_=1/0,refCount:u=!1,scheduler:E}=l):s=l??1/0,(0,i.B)({connector:()=>new t.t(s,_,E),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:u})}}}]);