"use strict";(self.webpackChunkRonWeb=self.webpackChunkRonWeb||[]).push([[916],{6168:(A,C,o)=>{o.r(C),o.d(C,{LoginComponent:()=>I});var a=o(5855),n=o(2223),f=o(4755),e=o(6355),r=o(9401),p=o(2883),u=o(5512),m=o(3144),E=o(2340);let M=(()=>{class d{constructor(){this.http=(0,n.f3M)(m.eN)}login(i){return this.http.post(`${E.N.baseUrl}/login`,i)}}return d.\u0275fac=function(i){return new(i||d)},d.\u0275prov=n.Yz7({token:d,factory:d.\u0275fac,providedIn:"root"}),d})();var O=o(262),l=o(8746),c=o(2993),s=o(5249),t=o(5796),v=o(7929),h=o(4052);function T(d,_){if(1&d){const i=n.EpF();n.TgZ(0,"div",12)(1,"div",13)(2,"span",14),n._uU(3),n.qZA()(),n.TgZ(4,"ng-icon",15),n.NdJ("click",function(){n.CHM(i);const B=n.oxw();return n.KtG(B.errMsg.set(""))}),n.qZA()()}if(2&d){const i=n.oxw();n.xp6(3),n.Oqu(i.errMsg())}}let I=(()=>{class d{constructor(){this.loginSrv=(0,n.f3M)(M),this.apiSrv=(0,n.f3M)(v.s),this.userSrv=(0,n.f3M)(h.K),this.router=(0,n.f3M)(t.F0),this.loading=(0,n.tdS)(!1),this.errMsg=(0,n.tdS)(void 0),this._destroyRef=(0,n.f3M)(n.ktI),this.form=new r.cw({account:new r.NI("",[r.kI.required]),password:new r.NI("",[r.kI.required])}),this.loginOptions={path:"assets/lottie/login.json"}}get account(){return this.form.get("account")}get password(){return this.form.get("password")}submit(){this.form.markAllAsTouched(),this.form.valid&&(this.loading.set(!0),this.loginSrv.login({account:this.account.value,password:this.password.value}).pipe((0,O.K)(i=>{throw this.errMsg.set("\u7cfb\u7d71\u767c\u751f\u932f\u8aa4"),i}),(0,l.x)(()=>this.loading.set(!1)),(0,a.sL)(this._destroyRef)).subscribe(i=>{const{returnMessage:g,data:B}=i;if(this.apiSrv.ifSuccess(i,!1)){const{token:L,userId:y}=B;this.userSrv.setToken(L),this.userSrv.setUserId(y),this.userSrv.isLogin.set(!0),this.router.navigate(["setting"])}else this.errMsg.set(g)}))}}return d.\u0275fac=function(i){return new(i||d)},d.\u0275cmp=n.Xpm({type:d,selectors:[["app-login"]],standalone:!0,features:[n._Bn([(0,c.kp)({heroXMark:s.CZj})]),n.jDz],decls:17,vars:6,consts:[[1,"bg-banner","bg-cover","bg-fixed","h-screen","flex","justify-center","items-center"],[1,"bg-base-100","text-base-content","rounded-md","mt-20","md:mt-0","mx-5"],[1,"text-center","text-3xl","font-semibold","my-3"],[1,"w-60","mx-auto"],[3,"options"],[1,"flex","flex-wrap","items-center","w-full","sm:w-[500px]",3,"formGroup","ngSubmit"],[1,"w-full","px-3","my-2"],["class","alert alert-error shadow-lg border-2 bg-rose-800/[0.1] border-rose-900 relative py-5",4,"ngIf"],["placeholder","\u8acb\u8f38\u5165\u5e33\u865f","formControlName","account",1,"w-full"],["type","password","placeholder","\u8acb\u8f38\u5165\u5bc6\u78bc","formControlName","password",1,"w-full"],[1,"w-full","flex","justify-center","items-center"],["type","submit",1,"btn","btn-primary","my-3","px-8",3,"disabled"],[1,"alert","alert-error","shadow-lg","border-2","bg-rose-800/[0.1]","border-rose-900","relative","py-5"],[1,"absolute","left-5","top-2"],[1,"text-base","font-semibold","text-rose-900"],["name","heroXMark",1,"cursor-pointer","absolute","right-5","top-1","md:top-3","text-rose-900",3,"click"]],template:function(i,g){1&i&&(n._UZ(0,"app-header"),n.TgZ(1,"div",0)(2,"div",1)(3,"h3",2),n._uU(4,"\u767b\u5165"),n.qZA(),n.TgZ(5,"div",3),n._UZ(6,"ng-lottie",4),n.qZA(),n.TgZ(7,"form",5),n.NdJ("ngSubmit",function(){return g.submit()}),n.TgZ(8,"div",6),n.YNc(9,T,5,1,"div",7),n.qZA(),n.TgZ(10,"div",6),n._UZ(11,"app-input",8),n.qZA(),n.TgZ(12,"div",6),n._UZ(13,"app-input",9),n.qZA(),n.TgZ(14,"div",10)(15,"button",11),n._uU(16," \u767b\u5165 "),n.qZA()()()()()),2&i&&(n.xp6(6),n.Q6J("options",g.loginOptions),n.xp6(1),n.Q6J("formGroup",g.form),n.xp6(2),n.Q6J("ngIf",g.errMsg()),n.xp6(6),n.ekj("loading",g.loading()),n.Q6J("disabled",g.loading()))},dependencies:[f.ez,f.O5,e.a,r.UX,r._Y,r.JJ,r.JL,r.sg,r.u,p.G,u.r,c.Fv]}),d})()},5376:(A,C,o)=>{o.d(C,{A:()=>e,x:()=>f});var a=o(2223),n=o(9401);const f=r=>({provide:n.JU,useExisting:(0,a.Gpc)(()=>r),multi:!0});let e=(()=>{class r{constructor(u,m){this.injector=u,this.cdr=m,this.labelClass="",this.class="",this.showErrorMsg=!0,this.val="",this.disabled=!1}ngOnInit(){this.ngControl=this.injector.get(n.a5)}ngAfterViewInit(){this.control=this.ngControl?.control,this.cdr.detectChanges()}writeValue(u){this.val=u}registerOnChange(u){this.onChange=u}registerOnTouched(u){this.onTouched=u}setDisabledState(u){this.disabled=u}change(){this.onChange&&this.onTouched&&(this.onChange(this.val),this.onTouched())}}return r.\u0275fac=function(u){return new(u||r)(a.Y36(a.zs3),a.Y36(a.sBO))},r.\u0275cmp=a.Xpm({type:r,selectors:[["app-basic-input"]],inputs:{labelName:"labelName",labelClass:"labelClass",class:"class",showErrorMsg:"showErrorMsg"},standalone:!0,features:[a.jDz],decls:0,vars:0,template:function(u,m){},encapsulation:2}),r})()},6355:(A,C,o)=>{o.d(C,{a:()=>O});var a=o(9401),n=o(4755),f=o(5376),e=o(2223);const r=function(l,c){return{"text-success":l,"text-error":c}};function p(l,c){if(1&l&&(e.TgZ(0,"label",3),e._uU(1),e.qZA()),2&l){const s=e.oxw();e.Tol(s.labelClass),e.Q6J("for",null==s.ngControl?null:s.ngControl.name)("ngClass",e.WLB(5,r,(null==s.control?null:s.control.touched)&&!(null!=s.control&&s.control.errors),(null==s.control?null:s.control.touched)&&(null==s.control?null:s.control.errors))),e.xp6(1),e.Oqu(s.labelName)}}function u(l,c){1&l&&(e.TgZ(0,"p",5)(1,"span",6),e._uU(2,"\u6b64\u6b04\u4f4d\u5fc5\u586b"),e.qZA()())}function m(l,c){1&l&&(e.TgZ(0,"p",5)(1,"span",6),e._uU(2,"\u8acb\u8f38\u5165\u6b63\u78ba\u683c\u5f0f\u7684\u96fb\u5b50\u4fe1\u7bb1"),e.qZA()())}function E(l,c){if(1&l&&(e.ynx(0),e.YNc(1,u,3,0,"p",4),e.YNc(2,m,3,0,"p",4),e.BQk()),2&l){const s=e.oxw();e.xp6(1),e.Q6J("ngIf",null==s.control||null==s.control.errors?null:s.control.errors.required),e.xp6(1),e.Q6J("ngIf",null==s.control||null==s.control.errors?null:s.control.errors.email)}}const M=function(l,c){return{"input-error":l,"input-success":c}};let O=(()=>{class l extends f.A{constructor(){super(...arguments),this.type="text",this.placeholder="",this.size="md",this.inputmode="text"}}return l.\u0275fac=function(){let c;return function(t){return(c||(c=e.n5z(l)))(t||l)}}(),l.\u0275cmp=e.Xpm({type:l,selectors:[["app-input"]],inputs:{type:"type",placeholder:"placeholder",size:"size",inputmode:"inputmode"},standalone:!0,features:[e._Bn([(0,f.x)(l)]),e.qOj,e.jDz],decls:3,vars:22,consts:[["class","block",3,"for","class","ngClass",4,"ngIf"],[1,"input","input-bordered","border-2",3,"type","id","ngModel","ngClass","disabled","inputMode","placeholder","ngModelChange"],[4,"ngIf"],[1,"block",3,"for","ngClass"],["class","mt-2 text-sm text-red-600 dark:text-red-500",4,"ngIf"],[1,"mt-2","text-sm","text-red-600","dark:text-red-500"],[1,"font-medium"]],template:function(s,t){1&s&&(e.YNc(0,p,2,8,"label",0),e.TgZ(1,"input",1),e.NdJ("ngModelChange",function(h){return t.val=h})("ngModelChange",function(){return t.change()}),e.qZA(),e.YNc(2,E,3,2,"ng-container",2)),2&s&&(e.Q6J("ngIf",t.labelName),e.xp6(1),e.Tol(t.class),e.ekj("input-xs","xs"===t.size)("input-sm","sm"===t.size)("input-md","md"===t.size)("input-lg","lg"===t.size),e.Q6J("type",t.type)("id",null==t.ngControl?null:t.ngControl.name)("ngModel",t.val)("ngClass",e.WLB(19,M,(null==t.control?null:t.control.touched)&&(null==t.control?null:t.control.errors),(null==t.control?null:t.control.touched)&&!(null!=t.control&&t.control.errors)))("disabled",t.disabled)("inputMode",t.inputmode)("placeholder",t.placeholder),e.xp6(1),e.Q6J("ngIf",(null==t.control?null:t.control.touched)&&(null==t.control?null:t.control.errors)&&t.showErrorMsg))},dependencies:[n.ez,n.mk,n.O5,a.u5,a.Fj,a.JJ,a.On],styles:["[_nghost-%COMP%]{width:100%}"]}),l})()},7929:(A,C,o)=>{o.d(C,{s:()=>r});var a=o(2223),n=o(5698),f=o(9415),e=o(9096);let r=(()=>{class p{constructor(){this.swalSrv=(0,a.f3M)(e.J)}ifSuccess(m,E=!0){return E?m.returnCode===f.N.Success||(this.swalSrv.alert({text:m.returnMessage}).pipe((0,n.q)(1)).subscribe(),!1):m.returnCode===f.N.Success}}return p.\u0275fac=function(m){return new(m||p)},p.\u0275prov=a.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})()},4968:(A,C,o)=>{o.d(C,{R:()=>M});var a=o(8421),n=o(9751),f=o(5577),e=o(1144),r=o(576),p=o(3268);const u=["addListener","removeListener"],m=["addEventListener","removeEventListener"],E=["on","off"];function M(t,v,h,T){if((0,r.m)(h)&&(T=h,h=void 0),T)return M(t,v,h).pipe((0,p.Z)(T));const[I,d]=function s(t){return(0,r.m)(t.addEventListener)&&(0,r.m)(t.removeEventListener)}(t)?m.map(_=>i=>t[_](v,i,h)):function l(t){return(0,r.m)(t.addListener)&&(0,r.m)(t.removeListener)}(t)?u.map(O(t,v)):function c(t){return(0,r.m)(t.on)&&(0,r.m)(t.off)}(t)?E.map(O(t,v)):[];if(!I&&(0,e.z)(t))return(0,f.z)(_=>M(_,v,h))((0,a.Xf)(t));if(!I)throw new TypeError("Invalid event target");return new n.y(_=>{const i=(...g)=>_.next(1<g.length?g:g[0]);return I(i),()=>d(i)})}function O(t,v){return h=>T=>t[h](v,T)}}}]);